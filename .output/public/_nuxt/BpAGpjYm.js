import{_ as w}from"./DxVaJrao.js";import{_ as x}from"./DXKdlSiy.js";import{_ as m,c as r,o,a as t,h as d,t as n,g as u,w as g,j as p,b as y,F as B,r as T,k as z,d as _,P}from"#entry";import"./BNIV5ToN.js";const C={data:()=>({message:{},res:{}}),props:{hub:{type:Object,default:()=>{}}},computed:{color(){const s=this.hub?.color??"#FF715D";return s.includes("gradient")?`#${s.split("#")[1].split(" ")[0].replace(/[^a-zA-Z0-9 ]/g,"")}`:s},isPremium(){return this.hub?.is_premium},link(){return this.isPremium?this.linkToPay:`/${this.slug}`},linkToPay(){return this.hub?.link??""},slug(){return this.hub?.slug??"#"},isWaiting(){return this.hub?.activate_waiting??!1},enchargeTag(){return this.hub?.encharge_tag??""},title(){return this.hub?.title},description(){return this.hub?.description},content(){return this.hub?.content??this.hub?.description},chapters(){const s=this.hub?.chapters;return s&&s.length>1?s??[]:(s&&s[0].posts)??[]},animatedBookCover(){return(this.hub&&this.hub?.image?.url)??"https://res.cloudinary.com/kaperskydisk/image/upload/v1685032766/masteringbackend/posts/vectors/laravel-design-color.png"},bookCover(){return(this.hub&&this.hub?.design_url)??"https://files.selar.co/product-images/2023/products/masteringbackend/technical-writing-the-com-selar.co-64999ea31aafb.png"}}},A={style:{"background-color":"#f7f5fa"}},D={class:"container mx-auto"},j={class:"row d-flex"},N={id:"chapter",class:"col-md-7 position-relative",style:{}},R={class:"title__text py-4",style:{"font-size":"52px","font-weight":"800","line-height":"62px"}},W={class:"title__subtext fs-4"},E={key:0,class:"py-3 input-group"},F={class:"col-md-5 hero__image"},O=["data-src","alt"],S={key:1,class:"shadow border p-4 my-4",style:{"background-color":"white"}},V={class:"w-100",style:{"background-color":"rgb(243, 246, 250)"}},H={class:"py-5 container mx-auto"},L={class:"container mx-auto",id:"hero_text"},U={class:"row py-1"},M={class:"col-lg-6"},G={class:"shadow p-4 border my-4",style:{"max-width":"500px"}},Y=["data-src","alt"],Z={class:"col-lg-6"},q={class:"py-4 fs-2 fw-bold",style:{color:"#121127","font-size":"40px","line-height":"58.5px"}},I={style:{color:"#121127"}},J={key:0,class:"my-3"},K={class:"d-flex flex-row justify-content-start align-items-center title__text",to:"#"},Q=["fill"];function X(s,i,a,l,b,e){const c=w,f=x,h=z("lazy-load");return o(),r("section",null,[t("section",A,[t("div",D,[t("div",j,[t("div",N,[t("h1",R,n(e.title)+" for Backend Engineers ",1),t("p",W,n(e.description),1),i[1]||(i[1]=t("div",{class:"gradient"},null,-1)),e.slug.includes("design-patterns")?d("",!0):(o(),r("div",E,[s.activateDownload?d("",!0):(o(),u(c,{key:0,"custom-style":{backgroundColor:`${e.color}`,color:"#fff"},size:"large",class:"py-2 my-2 fs-4 fw-bold",type:"link",link:e.link},{default:g(()=>[_(n(e.isPremium?"Grab Your Copy Now":"Read Online"),1)]),_:1},8,["custom-style","link"])),e.linkToPay&&!e.isWaiting&&!e.isPremium?(o(),u(c,{key:1,"custom-style":{border:`1px solid ${e.color}`,color:`${e.color} !important`},size:"large",type:"link",class:"py-2 my-2 fs-4 fw-bold",link:e.linkToPay},{default:g(()=>[...i[0]||(i[0]=[_(" Download Now ",-1)])]),_:1},8,["custom-style","link"])):d("",!0)]))]),t("div",F,[e.isWaiting?(o(),r("div",S,[y(f,{tag:e.enchargeTag,color:e.color,isWaiting:s.activateDownload,slug:e.slug},null,8,["tag","color","isWaiting","slug"])])):p((o(),r("img",{key:0,class:"img-fluid","data-src":e.bookCover,alt:e.title,srcset:""},null,8,O)),[[h]])])])])]),t("section",V,[t("div",H,[i[4]||(i[4]=t("div",{id:"hero_text",class:"container mx-auto"},[t("div",{class:"my-5"},[t("h2",{class:"fw-bolder",style:{"font-size":"50px","font-weight":"800","line-height":"65px"}}," Take a peek inside ")])],-1)),t("div",L,[t("div",U,[t("div",M,[t("div",G,[p(t("img",{class:"img-fluid cover","data-src":e.animatedBookCover,alt:e.title},null,8,Y),[[h]])])]),t("div",Z,[t("div",null,[t("h3",q,n(e.title),1),t("p",I,n(e.content),1),i[3]||(i[3]=t("hr",{class:"my-4"},null,-1)),e.chapters?.length?(o(),r("h3",J,"What to expect?")):d("",!0),(o(!0),r(B,null,T(e.chapters,(k,v)=>(o(),r("li",{key:v,style:{"font-size":"20px","line-height":"28px",color:"#121127"},class:"lh-lg list-unstyled fw-normal"},[t("span",K,[(o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:e.color,width:"24",height:"24"},[...i[2]||(i[2]=[t("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),t("path",{d:"M16 12l-6 6V6z"},null,-1)])],8,Q)),t("span",null,n(k.title),1)])]))),128))])])])])])])])}const $=Object.assign(m(C,[["render",X]]),{__name:"BookOverview"});var tt={};const et={async asyncData({params:s,store:i}){try{const a=i.getters["hubs/getHub"];let l=await a(s.slug);return l?.length||(l=await i.dispatch("hubs/getHub",{slug:s.slug,populate:{image:!0,chapters:{populate:{posts:!0}}}})),{hub:l}}catch(a){console.log(a)}},data:()=>({BASE_URL:tt.BASE_URL||"https://masteringbackend.com"}),computed:{image(){return this.hub&&(this.hub?.design_url??this.hub?.image??"/img/backend-2023.jpg")}},methods:{stripTags(s){if(s)return s.replace(/(<([^>]+)>)/gi,"")},splitTags(s){if(Array.isArray(s))return s.map(i=>i.title).join(", ")}},head(){if(this.hub)return{title:`${this.hub?.title}`,meta:[{hid:"keywords",name:"keywords",content:`${this.hub?.chapters?.map(s=>s.title)}`},{hid:"description",name:"description",content:`${this.stripTags(this.hub?.description)}`},{hid:"og:image",property:"og:image",content:this.image},{hid:"og:title",property:"og:title",content:this.hub.title},{hid:"og:description",property:"og:description",content:this.stripTags(this.hub?.description)},{hid:"og:image",property:"og:image",content:this.image},{hid:"og:url",property:"og:url",content:`${this.BASE_URL}/books/${(this._.provides[P]||this.$route).params.slug}`},{hid:"og:image:width",property:"og:image:width",content:"800"},{hid:"og:image:height",property:"og:image:height",content:"800"},{hid:"og:type",property:"og:type",content:"article"},{hid:"article:published_time",property:"article:published_time",content:this.hub?.createdAt},{hid:"article:modified_time",property:"article:modified_time",content:this.hub?.updatedAt},{hid:"twitter:card",name:"twitter:card",content:"summary_large_image"}]}}},st={class:"hero__grid"};function it(s,i,a,l,b,e){const c=$;return o(),r("main",st,[y(c,{hub:s.hub},null,8,["hub"])])}const lt=m(et,[["render",it]]);export{lt as default};
