import{t as k,h as O}from"./BF_ikeyp.js";import"#entry";import"./BNIV5ToN.js";import"./DxVaJrao.js";import"./imzjjRHt.js";import"./B7tz7tE3.js";function p(a,e){return Object.keys(e).reduce(function(t,i){if(i.startsWith(a)){var r=i.substr(a.length);t[r]=e[i]}return t},{})}function I(a,e){var t=document.createElement("a");t.href=e;var i=t.search.slice(1),r=i.split("&").reduce(function(v,P){var j=P.split("="),b=j[0],S=j[1];return v[b]=k(S),v},{}),s=[],f=r.ajs_uid,m=r.ajs_event,c=r.ajs_aid,n=O(a.options.useQueryString)?a.options.useQueryString:{},u=n.aid,h=u===void 0?/.+/:u,o=n.uid,l=o===void 0?/.+/:o;if(c){var _=Array.isArray(r.ajs_aid)?r.ajs_aid[0]:r.ajs_aid;h.test(_)&&a.setAnonymousId(_)}if(f){var d=Array.isArray(r.ajs_uid)?r.ajs_uid[0]:r.ajs_uid;if(l.test(d)){var A=p("ajs_trait_",r);s.push(a.identify(d,A))}}if(m){var y=Array.isArray(r.ajs_event)?r.ajs_event[0]:r.ajs_event,g=p("ajs_prop_",r);s.push(a.track(y,g))}return Promise.all(s)}export{I as queryString};
