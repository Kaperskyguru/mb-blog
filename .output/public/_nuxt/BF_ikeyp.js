const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./5lZm5Xt2.js","./Cu6GzTun.js","./entry.DrFeSXyX.css","./BNIV5ToN.js","./DxVaJrao.js","./Button.DV2EnYp5.css","./imzjjRHt.js","./B7tz7tE3.js","./BAOHGh3L.js","./D9cYtZwZ.js","./DeNtQvA5.js","./CK_GHdve.js","./J0ax1gH-.js","./BNQMXdq4.js"])))=>i.map(i=>d[i]);
import{_ as ve,c as C,o as x,a as f,n as Ee,h as F,t as j,l as U,m as gt,p as T,b as R,g as X,w as N,d as H,f as ee,F as fr,r as pr,q as K,s as hr,v as Se,x as ct,y as et,u as Zr,z as Xr,A as Yr,i as vr,P as J,e as Rt}from"#entry";import{_ as Je}from"./BNIV5ToN.js";import{_ as mr}from"./DxVaJrao.js";import{u as en,a as Lt}from"./imzjjRHt.js";import{u as tn}from"./B7tz7tE3.js";const rn={props:{color:{type:String,default:"#1c168c"},isChapter:{type:Boolean,default:!1},chapter:{type:Object,default:()=>{}}},computed:{title(){return this.chapter?.title??""}}},nn={class:"container"},on={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",fill:"#fff",height:"24"},an={class:"text-white fs-2 px-2"};function sn(r,e,t,n,i,o){return x(),C("div",{class:Ee(["header py-2",{"text-center py-4":t.isChapter}]),style:U({background:`${t.color}`})},[f("div",nn,[f("div",{class:Ee(["py-4",{"d-flex flex-row align-items-center justify-content-start":!t.isChapter}])},[f("span",null,[t.isChapter?F("",!0):(x(),C("svg",on,[...e[0]||(e[0]=[f("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),f("path",{d:"M10.828 12l4.95 4.95-1.414 1.414L8 12l6.364-6.364 1.414 1.414z"},null,-1)])]))]),f("span",an,j(o.title),1)],2)])],6)}const yr=Object.assign(ve(rn,[["render",sn]]),{__name:"HubBanner"}),un={class:"shadow-sm"},ln={class:"container d-flex align-items-center flex-row py-3 flex-wrap"},cn=["fill"],dn=["fill"],fn={key:1,class:"fs-5"},pn={key:2,class:"fs-5",style:{color:"#57586e"}},gr={__name:"Breadcrumb",props:{color:{type:String,default:"#1c168c"},hub:{type:Object,default:()=>({})},chapter:{type:Object,default:()=>({})},post:{type:Object,default:()=>({})}},setup(r){const e=r,t=gt(),n=T(()=>t.name?.toString().includes("resources-hub-slug")?"/resources":"/"),i=T(()=>e.chapter?.title??""),o=T(()=>e.post?.title??"");return(s,a)=>{const l=Je;return x(),C("div",un,[f("div",ln,[R(l,{to:`${n.value}/${ee(t).params.hub}`},{default:N(()=>[f("p",{style:U({color:r.color}),class:"fs-5"},[H(j(r.hub.title)+" ",1),f("span",null,[(x(),C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:r.color,width:"24",height:"24"},[...a[0]||(a[0]=[f("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),f("path",{d:"M16 12l-6 6V6z"},null,-1)])],8,cn))])],4)]),_:1},8,["to"]),o.value?(x(),X(l,{key:0,class:"fs-5",to:`${n.value}/${ee(t).params.hub}/${r.chapter.slug}`},{default:N(()=>[f("p",{style:U({color:r.color}),class:"fs-5"},[H(j(i.value)+" ",1),f("span",null,[(x(),C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:r.color,width:"24",height:"24"},[...a[1]||(a[1]=[f("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),f("path",{d:"M16 12l-6 6V6z"},null,-1)])],8,dn))])],4)]),_:1},8,["to"])):(x(),C("p",fn,[H(j(i.value)+" ",1),a[2]||(a[2]=f("span",{class:"mx-4"},null,-1))])),o.value?(x(),C("p",pn,j(o.value),1)):F("",!0)])])}}},hn={class:"left-col"},vn=["fill"],_r={__name:"Outline",props:{color:{type:String,default:"#1c168c"},outlines:{type:Array,default:()=>[]}},setup(r){const e=gt(),t=T(()=>e.name?.toString().includes("resources-hub-slug")?"/resources":"/"),n=i=>i.slug===e.params.slug;return(i,o)=>{const s=Je;return x(),C("div",hn,[f("p",{class:"fs-6 py-1 text-uppercase",style:U({color:r.color})},j(r.outlines.length)+" Resources ",5),(x(!0),C(fr,null,pr(r.outlines,(a,l)=>(x(),C("li",{key:l,style:U([{"list-style":"none"},[{color:"#57586E"},n(a)?{color:"#000000"}:""]]),class:"lh-lg"},[R(s,{class:"d-flex flex-row justify-content-start",to:`${t.value}/${ee(e).params.hub}/${a.slug}`},{default:N(()=>[(x(),C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:r.color,width:"24",height:"24"},[...o[0]||(o[0]=[f("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),f("path",{d:"M16 12l-6 6V6z"},null,-1)])],8,vn)),f("span",null,j(a.title),1)]),_:2},1032,["to"])],4))),128))])}}},mn={name:"DialogComponent",components:{CloseIcon:()=>K(()=>import("./DtyaJxl3.js"),[],import.meta.url)},model:{prop:"visible",event:"update:visible"},emits:["answer","update:visible"],props:{contentClass:{type:String,default:""},color:{type:String},visible:{type:Boolean,default:!1},title:{type:String},description:{type:String}},data:()=>({isDialogOpen:!0}),destroyed(){document.removeEventListener("keyup",this.closeByKey)},watch:{async visible(r){if(await this.$nextTick(),r){document.addEventListener("keyup",this.closeByKey);const e=this.$refs.dialog;e&&e.focus?e.focus():e&&e.$el&&e.$el.focus&&e.$el.focus()}else document.removeEventListener("keyup",this.closeByKey)},$route:"closeByChangeRoute"},methods:{close(r){(!r.keyCode||r.keyCode===27)&&this.c(!1)},closeByBackdrop(){this.c(!1)},c(r){this.$emit("answer",r),this.$emit("update:visible",!1)},closeByKey(r){r.keyCode===13?this.c(!0):r.keyCode===27&&this.c(!1)},closeByChangeRoute(){this.$emit("update:visible",!1)}}},yn={key:0,class:"modal-container modal"},gn={class:"d-flex mw-100 w-100 justify-items-center justify-content-center",tabindex:"-1",role:"dialog",ref:"dialog"},_n={class:"position-relative w-100",style:{"max-width":"1000px",margin:"29px 10px"},role:"document"},bn={class:"modal-content"},wn={key:0,class:"text-white p-8"},kn={class:"mb-1 font-bold"},Sn={key:0,class:"text-gray-100"},xn={class:"col-12 w-100"},En={key:0,class:"col-lg-6 col-12"},In={key:1,class:"col-lg-6 col-12 border-start ps-4 pe-4"};function Cn(r,e,t,n,i,o){const s=hr("CloseIcon");return t.visible?(x(),C("section",yn,[f("div",gn,[f("div",_n,[f("div",bn,[f("div",{class:"d-flex justify-content-between pb-2 border-b rounded-top",style:U([{backgroundColor:t.color},{padding:"1rem"}])},[t.title?(x(),C("div",wn,[f("h2",kn,j(t.title),1),t.description?(x(),C("p",Sn,j(t.description),1)):F("",!0)])):F("",!0),f("div",{class:"close p-3 text-white",onClick:e[0]||(e[0]=ct((...a)=>o.close&&o.close(...a),["prevent"]))},[R(s,{style:{width:"20px",height:"20px",color:"#fff"}})])],4),f("div",xn,[f("div",{class:Ee(["row",t.contentClass])},[r.$slots.left?(x(),C("div",En,[Se(r.$slots,"left",{},void 0,!0)])):F("",!0),r.$slots.right?(x(),C("div",In,[Se(r.$slots,"right",{},void 0,!0)])):F("",!0)],2)]),Se(r.$slots,"default",{},void 0,!0)])])],512)])):F("",!0)}const On=Object.assign(ve(mn,[["render",Cn],["__scopeId","data-v-725c5224"]]),{__name:"Dialog"});var dt=function(r,e){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},dt(r,e)};function q(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dt(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var m=function(){return m=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},m.apply(this,arguments)};function br(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function g(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})}function _(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function $(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}function ft(r,e,t){e.split&&(e=e.split("."));for(var n=0,i=e.length,o=r,s,a;n<i&&(a=""+e[n++],!(a==="__proto__"||a==="constructor"||a==="prototype"));)o=o[a]=n===i?t:typeof(s=o[a])==typeof e?s:e[n]*0!==0||~(""+e[n]).indexOf(".")?{}:[]}var Pn=function(r,e){return Object.keys(r).filter(function(t){return e(t,r[t])}).reduce(function(t,n){return t[n]=r[n],t},{})},he=(function(r){q(e,r);function e(t,n){var i=r.call(this,"".concat(t," ").concat(n))||this;return i.field=t,i}return e})(Error);function te(r){return typeof r=="string"}function pt(r){return typeof r=="number"}function xe(r){return typeof r=="function"}function An(r){return r!=null}function V(r){return Object.prototype.toString.call(r).slice(8,-1).toLowerCase()==="object"}var _t="is not a string",bt="is not an object",Mn="is nil";function jn(r){if(!An(r))throw new he("Event",Mn);if(typeof r!="object")throw new he("Event",bt)}function Dn(r){if(!te(r.type))throw new he(".type",_t)}function Rn(r){if(!te(r.event))throw new he(".event",_t)}function Ln(r){if(!V(r.properties))throw new he(".properties",bt)}function $n(r){if(!V(r.traits))throw new he(".traits",bt)}function Tn(r){if(!te(r.messageId))throw new he(".messageId",_t)}function Fn(r){jn(r),Dn(r),Tn(r),r.type==="track"&&(Rn(r),Ln(r)),["group","identify"].includes(r.type)&&$n(r)}var Nn=(function(){function r(e){var t,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(t=e.onEventMethodCall)!==null&&t!==void 0?t:(function(){}),this.onFinishedEvent=(n=e.onFinishedEvent)!==null&&n!==void 0?n:(function(){})}return r})(),Bn=(function(){function r(e){this.settings=new Nn(e)}return r.prototype.track=function(e,t,n,i){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize(m(m({},this.baseEvent()),{event:e,type:"track",properties:t??{},options:m({},n),integrations:m({},i)}))},r.prototype.page=function(e,t,n,i,o){var s;this.settings.onEventMethodCall({type:"page",options:i});var a={type:"page",properties:m({},n),options:m({},i),integrations:m({},o)};return e!==null&&(a.category=e,a.properties=(s=a.properties)!==null&&s!==void 0?s:{},a.properties.category=e),t!==null&&(a.name=t),this.normalize(m(m({},this.baseEvent()),a))},r.prototype.screen=function(e,t,n,i,o){this.settings.onEventMethodCall({type:"screen",options:i});var s={type:"screen",properties:m({},n),options:m({},i),integrations:m({},o)};return e!==null&&(s.category=e),t!==null&&(s.name=t),this.normalize(m(m({},this.baseEvent()),s))},r.prototype.identify=function(e,t,n,i){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize(m(m({},this.baseEvent()),{type:"identify",userId:e,traits:t??{},options:m({},n),integrations:i}))},r.prototype.group=function(e,t,n,i){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize(m(m({},this.baseEvent()),{type:"group",traits:t??{},options:m({},n),integrations:m({},i),groupId:e}))},r.prototype.alias=function(e,t,n,i){this.settings.onEventMethodCall({type:"alias",options:n});var o={userId:e,type:"alias",options:m({},n),integrations:m({},i)};return t!==null&&(o.previousId=t),e===void 0?this.normalize(m(m({},o),this.baseEvent())):this.normalize(m(m({},this.baseEvent()),o))},r.prototype.baseEvent=function(){return{integrations:{},options:{}}},r.prototype.context=function(e){var t,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),o=(t=e.context)!==null&&t!==void 0?t:{},s={};return i.forEach(function(a){a!=="context"&&(n.includes(a)?ft(s,a,e[a]):ft(o,a,e[a]))}),[o,s]},r.prototype.normalize=function(e){var t,n,i=Object.keys((t=e.integrations)!==null&&t!==void 0?t:{}).reduce(function(p,v){var h,y;return m(m({},p),(h={},h[v]=!!(!((y=e.integrations)===null||y===void 0)&&y[v]),h))},{});e.options=Pn(e.options||{},function(p,v){return v!==void 0});var o=m(m({},i),(n=e.options)===null||n===void 0?void 0:n.integrations),s=e.options?this.context(e.options):[],a=s[0],l=s[1],u=e.options,c=br(e,["options"]),d=m(m(m(m({timestamp:new Date},c),{context:a,integrations:o}),l),{messageId:u.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(d),Fn(d),d},r})();function qn(r,e){return new Promise(function(t,n){var i=setTimeout(function(){n(Error("Promise timed out"))},e);r.then(function(o){return clearTimeout(i),t(o)}).catch(n)})}function Un(r){return new Promise(function(e){return setTimeout(e,r)})}function zn(r,e,t){var n=function(){try{return Promise.resolve(e(r))}catch(i){return Promise.reject(i)}};return Un(t).then(function(){return qn(n(),1e3)}).catch(function(i){r?.log("warn","Callback Error",{error:i}),r?.stats.increment("callback_error")}).then(function(){return r})}var wr=function(){var r,e,t=!1,n=new Promise(function(i,o){r=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];t=!0,i.apply(void 0,s)},e=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];t=!0,o.apply(void 0,s)}});return{resolve:r,reject:e,promise:n,isSettled:function(){return t}}},wt=(function(){function r(e){var t;this.callbacks={},this.warned=!1,this.maxListeners=(t=e?.maxListeners)!==null&&t!==void 0?t:10}return r.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},r.prototype.on=function(e,t){return this.callbacks[e]?(this.callbacks[e].push(t),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[t],this},r.prototype.once=function(e,t){var n=this,i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];n.off(e,i),t.apply(n,o)};return this.on(e,i),this},r.prototype.off=function(e,t){var n,i=(n=this.callbacks[e])!==null&&n!==void 0?n:[],o=i.filter(function(s){return s!==t});return this.callbacks[e]=o,this},r.prototype.emit=function(e){for(var t=this,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=(n=this.callbacks[e])!==null&&n!==void 0?n:[];return s.forEach(function(a){a.apply(t,i)}),this},r})();function Kn(r){var e=Math.random()+1,t=r.minTimeout,n=t===void 0?500:t,i=r.factor,o=i===void 0?2:i,s=r.attempt,a=r.maxTimeout,l=a===void 0?1/0:a;return Math.min(e*n*Math.pow(o,s),l)}var kr="onRemoveFromFuture",kt=(function(r){q(e,r);function e(t,n,i){var o=r.call(this)||this;return o.future=[],o.maxAttempts=t,o.queue=n,o.seen=i??{},o}return e.prototype.push=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.map(function(s){var a=t.updateAttempts(s);return a>t.maxAttempts||t.includes(s)?!1:(t.queue.push(s),!0)});return this.queue=this.queue.sort(function(s,a){return t.getAttempts(s)-t.getAttempts(a)}),o},e.prototype.pushWithBackoff=function(t,n){var i=this;if(n===void 0&&(n=0),n==0&&this.getAttempts(t)===0)return this.push(t)[0];var o=this.updateAttempts(t);if(o>this.maxAttempts||this.includes(t))return!1;var s=Kn({attempt:o-1});return n>0&&s<n&&(s=n),setTimeout(function(){i.queue.push(t),i.future=i.future.filter(function(a){return a.id!==t.id}),i.emit(kr)},s),this.future.push(t),!0},e.prototype.getAttempts=function(t){var n;return(n=this.seen[t.id])!==null&&n!==void 0?n:0},e.prototype.updateAttempts=function(t){return this.seen[t.id]=this.getAttempts(t)+1,this.getAttempts(t)},e.prototype.includes=function(t){return this.queue.includes(t)||this.future.includes(t)||!!this.queue.find(function(n){return n.id===t.id})||!!this.future.find(function(n){return n.id===t.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e})(wt),fe=256,Ke=[],Re;for(;fe--;)Ke[fe]=(fe+256).toString(16).substring(1);function St(){var r=0,e,t="";if(!Re||fe+16>256){for(Re=Array(r=256);r--;)Re[r]=256*Math.random()|0;r=fe=0}for(;r<16;r++)e=Re[fe+r],r==6?t+=Ke[e&15|64]:r==8?t+=Ke[e&63|128]:t+=Ke[e],r&1&&r>1&&r<11&&(t+="-");return fe++,t}var Hn=(function(){function r(){this._logs=[]}return r.prototype.log=function(e,t,n){var i=new Date;this._logs.push({level:e,message:t,time:i,extras:n})},Object.defineProperty(r.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),r.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(t,n){var i,o,s,a=m(m({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete a.time;var l=(s=(o=n.time)===null||o===void 0?void 0:o.toISOString())!==null&&s!==void 0?s:"";return t[l]&&(l="".concat(l,"-").concat(Math.random())),m(m({},t),(i={},i[l]=a,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(t){var n=t.level,i=t.message,o=t.extras;n==="info"||n==="debug"?console.log(i,o??""):console[n](i,o??"")});this._logs=[]},r})(),Vn=function(r){var e={gauge:"g",counter:"c"};return e[r]},Sr=(function(){function r(){this.metrics=[]}return r.prototype.increment=function(e,t,n){t===void 0&&(t=1),this.metrics.push({metric:e,value:t,tags:n??[],type:"counter",timestamp:Date.now()})},r.prototype.gauge=function(e,t,n){this.metrics.push({metric:e,value:t,tags:n??[],type:"gauge",timestamp:Date.now()})},r.prototype.flush=function(){var e=this.metrics.map(function(t){return m(m({},t),{tags:t.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},r.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:Vn(e.type),e:e.timestamp}})},r})(),Gn=(function(r){q(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e})(Sr),Ie=(function(){function r(e){var t,n,i;this.retry=(t=e.retry)!==null&&t!==void 0?t:!0,this.type=(n=e.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return r})(),Ve=(function(){function r(e,t,n,i){t===void 0&&(t=St()),n===void 0&&(n=new Gn),i===void 0&&(i=new Hn),this.attempts=0,this.event=e,this._id=t,this.logger=i,this.stats=n}return r.system=function(){},r.prototype.isSame=function(e){return e.id===this.id},r.prototype.cancel=function(e){throw e||new Ie({reason:"Context Cancel"})},r.prototype.log=function(e,t,n){this.logger.log(e,t,n)},Object.defineProperty(r.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),r.prototype.updateEvent=function(e,t){var n;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((n=this.event.integrations)===null||n===void 0?void 0:n[i])===!1)return this.event}return ft(this.event,e,t),this.event},r.prototype.failedDelivery=function(){return this._failedDelivery},r.prototype.setFailedDelivery=function(e){this._failedDelivery=e},r.prototype.logs=function(){return this.logger.logs},r.prototype.flush=function(){this.logger.flush(),this.stats.flush()},r.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},r})();function Jn(r,e){var t={};return r.forEach(function(n){var i,o=void 0;{var s=n[e];o=typeof s!="string"?JSON.stringify(s):s}o!==void 0&&(t[o]=$($([],(i=t[o])!==null&&i!==void 0?i:[],!0),[n],!1))}),t}var Wn=function(r){return typeof r=="object"&&r!==null&&"then"in r&&typeof r.then=="function"},Qn=function(){var r,e,t=0;return{done:function(){return r},run:function(n){var i=n();return Wn(i)&&(++t===1&&(r=new Promise(function(o){return e=o})),i.finally(function(){return--t===0&&e()})),i}}};function Zn(r){return g(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,r()];case 1:return[2,t.sent()];case 2:return e=t.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function Me(r,e){r.log("debug","plugin",{plugin:e.name});var t=new Date().getTime(),n=e[r.event.type];if(n===void 0)return Promise.resolve(r);var i=Zn(function(){return n.apply(e,[r])}).then(function(o){var s=new Date().getTime()-t;return o.stats.gauge("plugin_time",s,["plugin:".concat(e.name)]),o}).catch(function(o){if(o instanceof Ie&&o.type==="middleware_cancellation")throw o;return o instanceof Ie?(r.log("warn",o.type,{plugin:e.name,error:o}),o):(r.log("error","plugin Error",{plugin:e.name,error:o}),r.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),o)});return i}function Xn(r,e){return Me(r,e).then(function(t){if(t instanceof Ve)return t;r.log("debug","Context canceled"),r.stats.increment("context_canceled"),r.cancel(t)})}var Yn=(function(r){q(e,r);function e(t){var n=r.call(this)||this;return n.criticalTasks=Qn(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=t,n.queue.on(kr,function(){n.scheduleFlush(0)}),n}return e.prototype.register=function(t,n,i){return g(this,void 0,void 0,function(){var o,s,a=this;return _(this,function(l){switch(l.label){case 0:return this.plugins.push(n),o=function(u){a.failedInitializations.push(n.name),a.emit("initialization_failure",n),console.warn(n.name,u),t.log("warn","Failed to load destination",{plugin:n.name,error:u}),a.plugins=a.plugins.filter(function(c){return c!==n})},n.type==="destination"&&n.name!=="Segment.io"?(n.load(t,i).catch(o),[3,4]):[3,1];case 1:return l.trys.push([1,3,,4]),[4,n.load(t,i)];case 2:return l.sent(),[3,4];case 3:return s=l.sent(),o(s),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(t,n,i){return g(this,void 0,void 0,function(){var o;return _(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(t,i))]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.plugins=this.plugins.filter(function(a){return a.name!==n.name}),[3,4];case 3:return o=s.sent(),t.log("warn","Failed to unload destination",{plugin:n.name,error:o}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(t){return g(this,void 0,void 0,function(){var n;return _(this,function(i){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.push(t),n=this.subscribeToDelivery(t),this.scheduleFlush(0),[2,n]})})},e.prototype.subscribeToDelivery=function(t){return g(this,void 0,void 0,function(){var n=this;return _(this,function(i){return[2,new Promise(function(o){var s=function(a,l){a.isSame(t)&&(n.off("flush",s),o(a))};n.on("flush",s)})]})})},e.prototype.dispatchSingle=function(t){return g(this,void 0,void 0,function(){var n=this;return _(this,function(i){return t.log("debug","Dispatching"),t.stats.increment("message_dispatched"),this.queue.updateAttempts(t),t.attempts=1,[2,this.deliver(t).catch(function(o){var s=n.enqueuRetry(o,t);return s?n.subscribeToDelivery(t):(t.setFailedDelivery({reason:o}),t)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(t){var n=this;t===void 0&&(t=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length&&n.scheduleFlush(0)},0)})},t))},e.prototype.deliver=function(t){return g(this,void 0,void 0,function(){var n,i,o,s;return _(this,function(a){switch(a.label){case 0:return[4,this.criticalTasks.done()];case 1:a.sent(),n=Date.now(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.flushOne(t)];case 3:return t=a.sent(),i=Date.now()-n,this.emit("delivery_success",t),t.stats.gauge("delivered",i),t.log("debug","Delivered",t.event),[2,t];case 4:throw o=a.sent(),s=o,t.log("error","Failed to deliver",s),this.emit("delivery_failure",t,s),t.stats.increment("delivery_failed"),o;case 5:return[2]}})})},e.prototype.enqueuRetry=function(t,n){var i=!(t instanceof Ie)||t.retry;return i?this.queue.pushWithBackoff(n):!1},e.prototype.flush=function(){return g(this,void 0,void 0,function(){var t,n,i;return _(this,function(o){switch(o.label){case 0:if(this.queue.length===0)return[2,[]];if(t=this.queue.pop(),!t)return[2,[]];t.attempts=this.queue.getAttempts(t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(t)];case 2:return t=o.sent(),this.emit("flush",t,!0),[3,4];case 3:return n=o.sent(),i=this.enqueuRetry(n,t),i||(t.setFailedDelivery({reason:n}),this.emit("flush",t,!1)),[2,[]];case 4:return[2,[t]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(t){var n=this.plugins.filter(function(v){var h,y,b;if(v.type!=="destination"&&v.name!=="Segment.io")return!0;var w=void 0;return(h=v.alternativeNames)===null||h===void 0||h.forEach(function(k){t[k]!==void 0&&(w=t[k])}),(b=(y=t[v.name])!==null&&y!==void 0?y:w)!==null&&b!==void 0?b:(v.name==="Segment.io"?!0:t.All)!==!1}),i=Jn(n,"type"),o=i.before,s=o===void 0?[]:o,a=i.enrichment,l=a===void 0?[]:a,u=i.destination,c=u===void 0?[]:u,d=i.after,p=d===void 0?[]:d;return{before:s,enrichment:l,destinations:c,after:p}},e.prototype.flushOne=function(t){var n,i;return g(this,void 0,void 0,function(){var o,s,a,l,u,c,h,d,p,v,h,y,b,w,k;return _(this,function(E){switch(E.label){case 0:if(!this.isReady())throw new Error("Not ready");t.attempts>1&&this.emit("delivery_retry",t),o=this.availableExtensions((n=t.event.integrations)!==null&&n!==void 0?n:{}),s=o.before,a=o.enrichment,l=0,u=s,E.label=1;case 1:return l<u.length?(c=u[l],[4,Xn(t,c)]):[3,4];case 2:h=E.sent(),h instanceof Ve&&(t=h),this.emit("message_enriched",t,c),E.label=3;case 3:return l++,[3,1];case 4:d=0,p=a,E.label=5;case 5:return d<p.length?(v=p[d],[4,Me(t,v)]):[3,8];case 6:h=E.sent(),h instanceof Ve&&(t=h),this.emit("message_enriched",t,v),E.label=7;case 7:return d++,[3,5];case 8:return y=this.availableExtensions((i=t.event.integrations)!==null&&i!==void 0?i:{}),b=y.destinations,w=y.after,[4,new Promise(function(P,O){setTimeout(function(){var A=b.map(function(I){return Me(t,I)});Promise.all(A).then(P).catch(O)},0)})];case 9:return E.sent(),t.stats.increment("message_delivered"),this.emit("message_delivered",t),k=w.map(function(P){return Me(t,P)}),[4,Promise.all(k)];case 10:return E.sent(),[2,t]}})})},e})(wt),ei=function(r,e){var t=Date.now()-r;return Math.max((e??300)-t,0)};function ti(r,e,t,n){return g(this,void 0,void 0,function(){var i,o;return _(this,function(s){switch(s.label){case 0:return t.emit("dispatch_start",r),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(r)]:[3,2];case 1:return o=s.sent(),[3,4];case 2:return[4,e.dispatch(r)];case 3:o=s.sent(),s.label=4;case 4:return n?.callback?[4,zn(o,n.callback,ei(i,n.timeout))]:[3,6];case 5:o=s.sent(),s.label=6;case 6:return n?.debug&&o.flush(),[2,o]}})})}function ri(r,e,t,n){var i,o=[r,e,t,n],s=V(r)?r.event:r;if(!s||!te(s))throw new Error("Event missing");var a=V(r)?(i=r.properties)!==null&&i!==void 0?i:{}:V(e)?e:{},l={};xe(t)||(l=t??{}),V(r)&&!xe(e)&&(l=e??{});var u=o.find(xe);return[s,a,l,u]}function $t(r,e,t,n,i){var o,s,a=null,l=null,u=[r,e,t,n,i],c=u.filter(te);c.length===1?te(u[1])?(l=u[1],a=null):(l=c[0],a=null):c.length===2&&(typeof u[0]=="string"&&(a=u[0]),typeof u[1]=="string"&&(l=u[1]));var d=u.find(xe),p=u.filter(V);return p.length===1?V(u[2])?(s={},o=u[2]):V(u[3])?(o={},s=u[3]):(o=p[0],s={}):p.length===2&&(o=p[0],s=p[1]),[a,l,o??(o={}),s??(s={}),d]}var Tt=function(r){return function(){for(var e,t,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var s={},a=["callback","options","traits","id"],l=0,u=i;l<u.length;l++){var c=u[l],d=a.pop();if(d==="id"){if(te(c)||pt(c)){s.id=c.toString();continue}if(c==null)continue;d=a.pop()}if((d==="traits"||d==="options")&&(c==null||V(c))&&(s[d]=c),xe(c)){s.callback=c;break}}return[(e=s.id)!==null&&e!==void 0?e:r.id(),(t=s.traits)!==null&&t!==void 0?t:{},(n=s.options)!==null&&n!==void 0?n:{},s.callback]}};function ni(r,e,t,n){pt(r)&&(r=r.toString()),pt(e)&&(e=e.toString());var i=[r,e,t,n],o=i.filter(te),s=o[0],a=s===void 0?r:s,l=o[1],u=l===void 0?null:l,c=i.filter(V)[0],d=c===void 0?{}:c,p=i.find(xe);return[a,u,d,p]}function xt(){return typeof window<"u"}function Rs(){return!xt()}function ii(){return xt()?window.navigator.onLine:!0}function je(){return!ii()}function oi(r,e){return e=e||{},new Promise(function(t,n){var i=new XMLHttpRequest,o=[],s=[],a={},l=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return s},get:function(c){return a[c.toLowerCase()]},has:function(c){return c.toLowerCase()in a}}}};for(var u in i.open(e.method||"get",r,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(c,d,p){o.push(d=d.toLowerCase()),s.push([d,p]),a[d]=a[d]?a[d]+","+p:p}),t(l())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(u,e.headers[u]);i.send(e.body||null)})}var Et=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},We=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Et();return(t&&t.fetch||oi).apply(void 0,r)},Qe="1.81.1",xr="api.segment.io/v1",ai=function(r,e,t){var n=e.reduce(function(i,o){var s=o.split(":"),a=s[0],l=s[1];return i[a]=l,i},{});return{type:"Counter",metric:r,value:1,tags:m(m({},n),{library:"analytics.js",library_version:"npm:next-".concat(Qe)})}};function tt(r){console.error("Error sending segment performance metrics",r)}var si=(function(){function r(e){var t=this,n,i,o,s,a;if(this.host=(n=e?.host)!==null&&n!==void 0?n:xr,this.sampleRate=(i=e?.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=e?.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(s=e?.maxQueueSize)!==null&&s!==void 0?s:20,this.protocol=(a=e?.protocol)!==null&&a!==void 0?a:"https",this.queue=[],this.sampleRate>0){var l=!1,u=function(){l||(l=!0,t.flush().catch(tt),l=!1,setTimeout(u,t.flushTimer))};u()}}return r.prototype.increment=function(e,t){if(e.includes("analytics_js.")&&t.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=ai(e,t);this.queue.push(n),e.includes("error")&&this.flush().catch(tt)}},r.prototype.flush=function(){return g(this,void 0,void 0,function(){var e=this;return _(this,function(t){switch(t.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){tt(n),e.sampleRate=0})];case 1:return t.sent(),[2]}})})},r.prototype.send=function(){return g(this,void 0,void 0,function(){var e,t,n;return _(this,function(i){return e={series:this.queue},this.queue=[],t={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,We(n,{headers:t,body:JSON.stringify(e),method:"POST"})]})})},r})(),Le,Er=(function(r){q(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.initRemoteMetrics=function(t){Le=new si(t)},e.prototype.increment=function(t,n,i){r.prototype.increment.call(this,t,n,i),Le?.increment(t,i??[])},e})(Sr),Z=(function(r){q(e,r);function e(t,n){return r.call(this,t,n,new Er)||this}return e.system=function(){return new this({type:"track",event:"system"})},e})(Ve);function ui(r){return Object.prototype.toString.call(r).slice(8,-1).toLowerCase()==="object"}var Ir="bpc",Cr=function(r,e,t,n,i,o){return{__t:Ir,c:e,p:n,u:r,s:t,t:i,r:o}},li=Object.keys(Cr("","","","","",""));function ci(r){if(!ui(r)||r.__t!==Ir)return!1;for(var e in r)if(!li.includes(e))return!1;return!0}var di=function(r,e){return r.indexOf("?")>-1?r:r+e},fi=function(r){var e=r.indexOf("#");return e===-1?r:r.slice(0,e)},pi=function(r){try{return new URL(r).pathname}catch{return r[0]==="/"?r:"/"+r}},Or=function(r){var e=r.c,t=r.p,n=r.s,i=r.u,o=r.r,s=r.t,a=e?pi(e):t,l=e?di(e,n):fi(i);return{path:a,referrer:o,search:n,title:s,url:l}},Pr=function(){var r=document.querySelector("link[rel='canonical']");return Cr(location.href,r&&r.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},hi=function(){return Or(Pr())};function vi(r,e){return Object.assign.apply(Object,$([{}],e.map(function(t){var n;if(r&&Object.prototype.hasOwnProperty.call(r,t))return n={},n[t]=r[t],n}),!1))}var _e=function(r,e){e===void 0&&(e=hi());var t=r.context,n;r.type==="page"&&(n=r.properties&&vi(r.properties,Object.keys(e)),r.properties=m(m(m({},e),r.properties),r.name?{name:r.name}:{})),t.page=m(m(m({},e),n),t.page)},mi=(function(r){q(e,r);function e(t){var n=r.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(St())},onEventMethodCall:function(i){var o=i.options;n.maybeUpdateAnonId(o)},onFinishedEvent:function(i){return n.addIdentity(i),i}})||this;return n.user=t,n}return e.prototype.maybeUpdateAnonId=function(t){t?.anonymousId&&this.user.anonymousId(t.anonymousId)},e.prototype.addIdentity=function(t){this.user.id()&&(t.userId=this.user.id()),this.user.anonymousId()&&(t.anonymousId=this.user.anonymousId())},e.prototype.track=function(t,n,i,o,s){var a=r.prototype.track.call(this,t,n,i,o);return _e(a,s),a},e.prototype.page=function(t,n,i,o,s,a){var l=r.prototype.page.call(this,t,n,i,o,s);return _e(l,a),l},e.prototype.screen=function(t,n,i,o,s,a){var l=r.prototype.screen.call(this,t,n,i,o,s);return _e(l,a),l},e.prototype.identify=function(t,n,i,o,s){var a=r.prototype.identify.call(this,t,n,i,o);return _e(a,s),a},e.prototype.group=function(t,n,i,o,s){var a=r.prototype.group.call(this,t,n,i,o);return _e(a,s),a},e.prototype.alias=function(t,n,i,o,s){var a=r.prototype.alias.call(this,t,n,i,o);return _e(a,s),a},e})(Bn),yi=function(r){return"addMiddleware"in r&&r.type==="destination"},W={getItem:function(){},setItem:function(){},removeItem:function(){}};try{W=xt()&&window.localStorage?window.localStorage:W}catch(r){console.warn("Unable to access localStorage",r)}function Ar(r){var e=W.getItem(r);return(e?JSON.parse(e):[]).map(function(t){return new Z(t.event,t.id)})}function gi(r,e){var t=Ar(r),n=$($([],e,!0),t,!0),i=n.reduce(function(o,s){var a;return m(m({},o),(a={},a[s.id]=s,a))},{});W.setItem(r,JSON.stringify(Object.values(i)))}function Mr(r){var e=W.getItem(r);return e?JSON.parse(e):{}}function _i(r,e){var t=Mr(r);W.setItem(r,JSON.stringify(m(m({},t),e)))}function Ft(r){W.removeItem(r)}var bi=function(){return new Date().getTime()};function ht(r,e,t){t===void 0&&(t=0);var n=50,i="persisted-queue:v1:".concat(r,":lock"),o=function(u){return new Date().getTime()>u},s=W.getItem(i),a=s?JSON.parse(s):null,l=a===null||o(a);if(l){W.setItem(i,JSON.stringify(bi()+n)),e(),W.removeItem(i);return}!l&&t<3?setTimeout(function(){ht(r,e,t+1)},n):console.error("Unable to retrieve lock")}var It=(function(r){q(e,r);function e(t,n){var i=r.call(this,t,[])||this,o="persisted-queue:v1:".concat(n,":items"),s="persisted-queue:v1:".concat(n,":seen"),a=[],l={};return ht(n,function(){try{a=Ar(o),l=Mr(s),Ft(o),Ft(s),i.queue=$($([],a,!0),i.queue,!0),i.seen=m(m({},l),i.seen)}catch(u){console.error(u)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var u=$($([],i.queue,!0),i.future,!0);try{ht(n,function(){gi(o,u),_i(s,i.seen)})}catch(c){console.error(c)}}}),i}return e})(kt),wi=(function(r){q(e,r);function e(t){return r.call(this,typeof t=="string"?new It(4,t):t)||this}return e.prototype.flush=function(){return g(this,void 0,void 0,function(){return _(this,function(t){return je()?[2,[]]:[2,r.prototype.flush.call(this)]})})},e})(Yn);function Ct(r){for(var e=r.constructor.prototype,t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++){var i=n[t];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);o&&typeof o.value=="function"&&(r[i]=r[i].bind(r))}}return r}/*! js-cookie v3.0.1 | MIT */function $e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)r[n]=t[n]}return r}var ki={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function vt(r,e){function t(i,o,s){if(!(typeof document>"u")){s=$e({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,s[l]!==!0&&(a+="="+s[l].split(";")[0]));return document.cookie=i+"="+r.write(o,i)+a}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var l=o[a].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(s[c]=r.read(u,c),i===c)break}catch{}}return i?s[i]:s}}return Object.create({set:t,get:n,remove:function(i,o){t(i,"",$e({},o,{expires:-1}))},withAttributes:function(i){return vt(this.converter,$e({},this.attributes,i))},withConverter:function(i){return vt($e({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var Q=vt(ki,{path:"/"});function Si(r){var e=r.hostname,t=e.split("."),n=t[t.length-1],i=[];if(t.length===4&&parseInt(n,10)>0||t.length<=1)return i;for(var o=t.length-2;o>=0;--o)i.push(t.slice(o).join("."));return i}function xi(r){try{return new URL(r)}catch{return}}function jr(r){var e=xi(r);if(e)for(var t=Si(e),n=0;n<t.length;++n){var i="__tld__",o=t[n],s={domain:"."+o};try{if(Q.set(i,"1",s),Q.get(i))return Q.remove(i,s),o}catch{return}}}var Ei=365,Dr=(function(){function r(e){e===void 0&&(e=r.defaults),this.options=m(m({},r.defaults),e)}return Object.defineProperty(r,"defaults",{get:function(){return{maxage:Ei,domain:jr(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),r.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},r.prototype.get=function(e){var t;try{var n=Q.get(e);if(n==null)return null;try{return(t=JSON.parse(n))!==null&&t!==void 0?t:null}catch{return n??null}}catch{return null}},r.prototype.set=function(e,t){typeof t=="string"?Q.set(e,t,this.opts()):t===null?Q.remove(e,this.opts()):Q.set(e,JSON.stringify(t),this.opts())},r.prototype.remove=function(e){return Q.remove(e,this.opts())},r})(),Ii=(function(){function r(){}return r.prototype.localStorageWarning=function(e,t){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(t))},r.prototype.get=function(e){var t;try{var n=localStorage.getItem(e);if(n===null)return null;try{return(t=JSON.parse(n))!==null&&t!==void 0?t:null}catch{return n??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},r.prototype.set=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{this.localStorageWarning(e,"full")}},r.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},r})(),Ot=(function(){function r(){this.cache={}}return r.prototype.get=function(e){var t;return(t=this.cache[e])!==null&&t!==void 0?t:null},r.prototype.set=function(e,t){this.cache[e]=t},r.prototype.remove=function(e){delete this.cache[e]},r})(),B={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function Rr(r){return r&&r.stores&&Array.isArray(r.stores)&&r.stores.every(function(e){return Object.values(B).includes(e)})}function Ci(r){return typeof r=="object"&&r.name!==void 0}var rt=function(r,e,t,n){console.warn("".concat(r.constructor.name,": Can't ").concat(e,' key "').concat(t,'" | Err: ').concat(n))},pe=(function(){function r(e){this.stores=e}return r.prototype.get=function(e){for(var t=null,n=0,i=this.stores;n<i.length;n++){var o=i[n];try{if(t=o.get(e),t!=null)return t}catch(s){rt(o,"get",e,s)}}return null},r.prototype.set=function(e,t){this.stores.forEach(function(n){try{n.set(e,t)}catch(i){rt(n,"set",e,i)}})},r.prototype.clear=function(e){this.stores.forEach(function(t){try{t.remove(e)}catch(n){rt(t,"remove",e,n)}})},r.prototype.getAndSync=function(e){var t=this.get(e),n=typeof t=="number"?t.toString():t;return this.set(e,n),n},r})();function mt(r){var e=r.map(function(t){var n,i;switch(Ci(t)?(n=t.name,i=t.settings):n=t,n){case B.Cookie:return new Dr(i);case B.LocalStorage:return new Ii;case B.Memory:return new Ot;default:throw new Error("Unknown Store Type: ".concat(t))}});return e}function Lr(r,e){return r.map(function(t){return e&&t===B.Cookie?{name:t,settings:e}:t})}var re={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},$r=(function(){function r(e,t){e===void 0&&(e=re);var n=this,i,o,s,a;this.options={},this.id=function(u){if(n.options.disable)return null;var c=n.identityStore.getAndSync(n.idKey);if(u!==void 0){n.identityStore.set(n.idKey,u);var d=u!==c&&c!==null&&u!==null;d&&n.anonymousId(null)}var p=n.identityStore.getAndSync(n.idKey);if(p)return p;var v=n.legacyUserStore.get(re.cookie.oldKey);return v?typeof v=="object"?v.id:v:null},this.anonymousId=function(u){var c,d;if(n.options.disable)return null;if(u===void 0){var p=(c=n.identityStore.getAndSync(n.anonKey))!==null&&c!==void 0?c:(d=n.legacySIO())===null||d===void 0?void 0:d[0];if(p)return p}return u===null?(n.identityStore.set(n.anonKey,null),n.identityStore.getAndSync(n.anonKey)):(n.identityStore.set(n.anonKey,u??St()),n.identityStore.getAndSync(n.anonKey))},this.traits=function(u){var c;if(!n.options.disable)return u===null&&(u={}),u&&n.traitsStore.set(n.traitsKey,u??{}),(c=n.traitsStore.get(n.traitsKey))!==null&&c!==void 0?c:{}},this.options=m(m({},re),e),this.cookieOptions=t,this.idKey=(o=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:re.cookie.key,this.traitsKey=(a=(s=e.localStorage)===null||s===void 0?void 0:s.key)!==null&&a!==void 0?a:re.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,t),this.legacyUserStore=this.createStorage(this.options,t,function(u){return u===B.Cookie}),this.traitsStore=this.createStorage(this.options,t,function(u){return u!==B.Cookie});var l=this.legacyUserStore.get(re.cookie.oldKey);l&&typeof l=="object"&&(l.id&&this.id(l.id),l.traits&&this.traits(l.traits)),Ct(this)}return r.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var t=e.split("----"),n=t[0],i=t[1];return[n,i]},r.prototype.identify=function(e,t){if(!this.options.disable){t=t??{};var n=this.id();(n===null||n===e)&&(t=m(m({},this.traits()),t)),e&&this.id(e),this.traits(t)}},r.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},r.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},r.prototype.load=function(){return new r(this.options,this.cookieOptions)},r.prototype.save=function(){return!0},r.prototype.createStorage=function(e,t,n){var i=[B.LocalStorage,B.Cookie,B.Memory];return e.disable?new pe([]):e.persist?(e.storage!==void 0&&e.storage!==null&&Rr(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(o){return o!==B.LocalStorage})),n&&(i=i.filter(n)),new pe(mt(Lr(i,t)))):new pe([new Ot])},r.defaults=re,r})(),Nt={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},Oi=(function(r){q(e,r);function e(t,n){t===void 0&&(t=Nt);var i=r.call(this,m(m({},Nt),t),n)||this;return i.anonymousId=function(o){},Ct(i),i}return e})($r),Pt="analytics";function Tr(){return window[Pt]}function Pi(r){Pt=r}function Ai(r){window[Pt]=r}var Mi=function(r){return typeof r=="object"&&r!==null&&"then"in r&&typeof r.then=="function"},Fr=function(r,e,t){t.getAndRemove(r).forEach(function(n){Ze(e,n).catch(console.error)})},ji=function(r,e){return g(void 0,void 0,void 0,function(){var t,n,i;return _(this,function(o){switch(o.label){case 0:t=0,n=e.getAndRemove("addSourceMiddleware"),o.label=1;case 1:return t<n.length?(i=n[t],[4,Ze(r,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},Di=function(r,e){return g(void 0,void 0,void 0,function(){var t,n,i;return _(this,function(o){switch(o.label){case 0:t=0,n=e.getAndRemove("register"),o.label=1;case 1:return t<n.length?(i=n[t],[4,Ze(r,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},Ri=Fr.bind(void 0,"on"),Li=Fr.bind(void 0,"setAnonymousId"),$i=function(r,e){Object.keys(e.calls).forEach(function(t){e.getAndRemove(t).forEach(function(n){setTimeout(function(){Ze(r,n).catch(console.error)},0)})})},be=function(r){if(Nr(r)){var e=r.pop();return Or(e)}},Nr=function(r){var e=r[r.length-1];return ci(e)},yt=(function(){function r(e,t,n,i){n===void 0&&(n=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=n,this.reject=i,this.called=!1,this.args=t}return r})(),Ti=(function(){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(r.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),r.prototype.get=function(e){var t;return(t=this.calls[e])!==null&&t!==void 0?t:[]},r.prototype.getAndRemove=function(e){var t=this.get(e);return this.calls[e]=[],t},r.prototype.add=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(i){var o=["track","screen","alias","group","page","identify"];o.includes(i.method)&&!Nr(i.args)&&(i.args=$($([],i.args,!0),[Pr()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},r.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},r.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},r.prototype._pushSnippetWindowBuffer=function(){},r})();function Ze(r,e){return g(this,void 0,void 0,function(){var t,n;return _(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,t=r[e.method].apply(r,e.args),Mi(t)?[4,t]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(t),[3,4];case 3:return n=i.sent(),e.reject(n),[3,4];case 4:return[2]}})})}var Fi=(function(){function r(e){var t=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=Qe,this._preInitBuffer=new Ti,this._promise=e(this._preInitBuffer),this._promise.then(function(n){var i=n[0],o=n[1];t.instance=i,t.ctx=o}).catch(function(){})}return r.prototype.then=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).then.apply(e,t)},r.prototype.catch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).catch.apply(e,t)},r.prototype.finally=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).finally.apply(e,t)},r.prototype._createMethod=function(e){var t=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(t.instance){var s=(n=t.instance)[e].apply(n,i);return Promise.resolve(s)}return new Promise(function(a,l){t._preInitBuffer.add(new yt(e,i,a,l))})}},r.prototype._createChainableMethod=function(e){var t=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return t.instance?((n=t.instance)[e].apply(n,i),t):(t._preInitBuffer.add(new yt(e,i)),t)}},r})(),Oe={},ne={},we={},nt={exports:{}},Bt;function Xe(){return Bt||(Bt=1,(function(r){r.exports=e(t),r.exports.find=r.exports,r.exports.replace=function(a,l,u,c){return e(i).call(this,a,l,u,c),a},r.exports.del=function(a,l,u){return e(n).call(this,a,l,null,u),a};function e(a){return function(l,u,c,d){var p=d&&s(d.normalizer)?d.normalizer:o;u=p(u);for(var v,h=!1;!h;)y();function y(){for(v in l){var b=p(v);if(u.indexOf(b)===0){var w=u.substr(b.length);if(w.charAt(0)==="."||w.length===0){u=w.substr(1);var k=l[v];if(k==null){h=!0;return}if(!u.length){h=!0;return}l=k;return}}}v=void 0,h=!0}if(v)return l==null?l:a(l,v,c)}}function t(a,l){if(a.hasOwnProperty(l))return a[l]}function n(a,l){return a.hasOwnProperty(l)&&delete a[l],a}function i(a,l,u){return a.hasOwnProperty(l)&&(a[l]=u),a}function o(a){return a.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function s(a){return typeof a=="function"}})(nt)),nt.exports}var qt;function Ni(){if(qt)return we;qt=1;var r=we&&we.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(we,"__esModule",{value:!0});var e=r(Xe());function t(i,o){return function(){var s=this.traits(),a=this.properties?this.properties():{};return e.default(s,"address."+i)||e.default(s,i)||(o?e.default(s,"address."+o):null)||(o?e.default(s,o):null)||e.default(a,"address."+i)||e.default(a,i)||(o?e.default(a,"address."+o):null)||(o?e.default(a,o):null)}}function n(i){i.zip=t("postalCode","zip"),i.country=t("country"),i.street=t("street"),i.state=t("state"),i.city=t("city"),i.region=t("region")}return we.default=n,we}var Pe={},Ut;function Bi(){if(Ut)return Pe;Ut=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.clone=void 0;function r(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=r(e[n]));return t}else return Array.isArray(e)?e.map(r):e}return Pe.clone=r,Pe}var Te={},zt;function qi(){if(zt)return Te;zt=1,Object.defineProperty(Te,"__esModule",{value:!0});var r={Salesforce:!0};function e(t){return!r[t]}return Te.default=e,Te}var Fe={},Kt;function Br(){if(Kt)return Fe;Kt=1;var r=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;return Fe.parse=function(e){var t=[1,5,6,7,11,12],n=r.exec(e),i=0;if(!n)return new Date(e);for(var o=0,s;s=t[o];o++)n[s]=parseInt(n[s],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0,n[4]===" "?i=new Date().getTimezoneOffset():n[9]!=="Z"&&n[10]&&(i=n[11]*60+n[12],n[10]==="+"&&(i=0-i));var a=Date.UTC(n[1],n[2],n[3],n[5],n[6]+i,n[7],n[8]);return new Date(a)},Fe.is=function(e,t){return typeof e!="string"||t&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:r.test(e)},Fe}var Ne={},Ht;function Ui(){if(Ht)return Ne;Ht=1;var r=/\d{13}/;return Ne.is=function(e){return r.test(e)},Ne.parse=function(e){return e=parseInt(e,10),new Date(e)},Ne}var Be={},Vt;function zi(){if(Vt)return Be;Vt=1;var r=/\d{10}/;return Be.is=function(e){return r.test(e)},Be.parse=function(e){var t=parseInt(e,10)*1e3;return new Date(t)},Be}var it,Gt;function At(){if(Gt)return it;Gt=1;var r=Br(),e=Ui(),t=zi(),n=Object.prototype,i=n.toString;function o(l){return i.call(l)==="[object Date]"}function s(l){return i.call(l)==="[object Number]"}it=function(u){return o(u)?u:s(u)?new Date(a(u)):r.is(u)?r.parse(u):e.is(u)?e.parse(u):t.is(u)?t.parse(u):new Date(u)};function a(l){return l<315576e5?l*1e3:l}return it}var ot,Jt;function Ki(){if(Jt)return ot;Jt=1;var r=Br();ot=e;function e(i,o){return o===void 0&&(o=!0),i&&typeof i=="object"?t(i,o):Array.isArray(i)?n(i,o):r.is(i,o)?r.parse(i):i}function t(i,o){return Object.keys(i).forEach(function(s){i[s]=e(i[s],o)}),i}function n(i,o){return i.forEach(function(s,a){i[a]=e(s,o)}),i}return ot}var Wt;function me(){if(Wt)return ne;Wt=1;var r=ne&&ne.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ne,"__esModule",{value:!0}),ne.Facade=void 0;var e=r(Ni()),t=Bi(),n=r(qi()),i=r(At()),o=r(Xe()),s=r(Ki());function a(c,d){d=d||{},this.raw=t.clone(c),"clone"in d||(d.clone=!0),d.clone&&(c=t.clone(c)),"traverse"in d||(d.traverse=!0),"timestamp"in c?c.timestamp=i.default(c.timestamp):c.timestamp=new Date,d.traverse&&s.default(c),this.opts=d,this.obj=c}ne.Facade=a;var l=a.prototype;l.proxy=function(c){var d=c.split(".");c=d.shift();var p=this[c]||this.obj[c];return p&&(typeof p=="function"&&(p=p.call(this)||{}),d.length===0?this.opts.clone?u(p):p:(p=o.default(p,d.join(".")),this.opts.clone?u(p):p))},l.field=function(c){var d=this.obj[c];return this.opts.clone?u(d):d},a.proxy=function(c){return function(){return this.proxy(c)}},a.field=function(c){return function(){return this.field(c)}},a.multi=function(c){return function(){var d=this.proxy(c+"s");if(Array.isArray(d))return d;var p=this.proxy(c);return p&&(p=[this.opts.clone?t.clone(p):p]),p||[]}},a.one=function(c){return function(){var d=this.proxy(c);if(d)return d;var p=this.proxy(c+"s");if(Array.isArray(p))return p[0]}},l.json=function(){var c=this.opts.clone?t.clone(this.obj):this.obj;return this.type&&(c.type=this.type()),c},l.rawEvent=function(){return this.raw},l.options=function(c){var d=this.obj.options||this.obj.context||{},p=this.opts.clone?t.clone(d):d;if(!c)return p;if(this.enabled(c)){var v=this.integrations(),h=v[c]||o.default(v,c);return typeof h!="object"&&(h=o.default(this.options(),c)),typeof h=="object"?h:{}}},l.context=l.options,l.enabled=function(c){var d=this.proxy("options.providers.all");typeof d!="boolean"&&(d=this.proxy("options.all")),typeof d!="boolean"&&(d=this.proxy("integrations.all")),typeof d!="boolean"&&(d=!0);var p=d&&n.default(c),v=this.integrations();if(v.providers&&v.providers.hasOwnProperty(c)&&(p=v.providers[c]),v.hasOwnProperty(c)){var h=v[c];typeof h=="boolean"?p=h:p=!0}return!!p},l.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},l.active=function(){var c=this.proxy("options.active");return c==null&&(c=!0),c},l.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},l.sessionId=l.anonymousId,l.groupId=a.proxy("options.groupId"),l.traits=function(c){var d=this.proxy("options.traits")||{},p=this.userId();c=c||{},p&&(d.id=p);for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)){var h=this[v]==null?this.proxy("options.traits."+v):this[v]();if(h==null)continue;d[c[v]]=h,delete d[v]}return d},l.library=function(){var c=this.proxy("options.library");return c?typeof c=="string"?{name:c,version:null}:c:{name:"unknown",version:null}},l.device=function(){var c=this.proxy("context.device");(typeof c!="object"||c===null)&&(c={});var d=this.library().name;return c.type||(d.indexOf("ios")>-1&&(c.type="ios"),d.indexOf("android")>-1&&(c.type="android")),c},l.userAgent=a.proxy("context.userAgent"),l.timezone=a.proxy("context.timezone"),l.timestamp=a.field("timestamp"),l.channel=a.field("channel"),l.ip=a.proxy("context.ip"),l.userId=a.field("userId"),e.default(l);function u(c){return t.clone(c)}return ne}var ie={},qe={exports:{}},Qt;function ye(){return Qt||(Qt=1,typeof Object.create=="function"?qe.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:qe.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),qe.exports}var Zt;function Hi(){if(Zt)return ie;Zt=1;var r=ie&&ie.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ie,"__esModule",{value:!0}),ie.Alias=void 0;var e=r(ye()),t=me();function n(i,o){t.Facade.call(this,i,o)}return ie.Alias=n,e.default(n,t.Facade),n.prototype.action=function(){return"alias"},n.prototype.type=n.prototype.action,n.prototype.previousId=function(){return this.field("previousId")||this.field("from")},n.prototype.from=n.prototype.previousId,n.prototype.userId=function(){return this.field("userId")||this.field("to")},n.prototype.to=n.prototype.userId,ie}var oe={},Ue={},Xt;function Ye(){if(Xt)return Ue;Xt=1,Object.defineProperty(Ue,"__esModule",{value:!0});var r=/.+\@.+\..+/;function e(t){return r.test(t)}return Ue.default=e,Ue}var Yt;function Vi(){if(Yt)return oe;Yt=1;var r=oe&&oe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(oe,"__esModule",{value:!0}),oe.Group=void 0;var e=r(ye()),t=r(Ye()),n=r(At()),i=me();function o(a,l){i.Facade.call(this,a,l)}oe.Group=o,e.default(o,i.Facade);var s=o.prototype;return s.action=function(){return"group"},s.type=s.action,s.groupId=i.Facade.field("groupId"),s.created=function(){var a=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(a)return n.default(a)},s.email=function(){var a=this.proxy("traits.email");if(a)return a;var l=this.groupId();if(t.default(l))return l},s.traits=function(a){var l=this.properties(),u=this.groupId();a=a||{},u&&(l.id=u);for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=this[c]==null?this.proxy("traits."+c):this[c]();if(d==null)continue;l[a[c]]=d,delete l[c]}return l},s.name=i.Facade.proxy("traits.name"),s.industry=i.Facade.proxy("traits.industry"),s.employees=i.Facade.proxy("traits.employees"),s.properties=function(){return this.field("traits")||this.field("properties")||{}},oe}var ae={},er;function qr(){if(er)return ae;er=1;var r=ae&&ae.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ae,"__esModule",{value:!0}),ae.Identify=void 0;var e=me(),t=r(Xe()),n=r(ye()),i=r(Ye()),o=r(At()),s=function(u){return u.trim()};function a(u,c){e.Facade.call(this,u,c)}ae.Identify=a,n.default(a,e.Facade);var l=a.prototype;return l.action=function(){return"identify"},l.type=l.action,l.traits=function(u){var c=this.field("traits")||{},d=this.userId();u=u||{},d&&(c.id=d);for(var p in u){var v=this[p]==null?this.proxy("traits."+p):this[p]();v!=null&&(c[u[p]]=v,p!==u[p]&&delete c[p])}return c},l.email=function(){var u=this.proxy("traits.email");if(u)return u;var c=this.userId();if(i.default(c))return c},l.created=function(){var u=this.proxy("traits.created")||this.proxy("traits.createdAt");if(u)return o.default(u)},l.companyCreated=function(){var u=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(u)return o.default(u)},l.companyName=function(){return this.proxy("traits.company.name")},l.name=function(){var u=this.proxy("traits.name");if(typeof u=="string")return s(u);var c=this.firstName(),d=this.lastName();if(c&&d)return s(c+" "+d)},l.firstName=function(){var u=this.proxy("traits.firstName");if(typeof u=="string")return s(u);var c=this.proxy("traits.name");if(typeof c=="string")return s(c).split(" ")[0]},l.lastName=function(){var u=this.proxy("traits.lastName");if(typeof u=="string")return s(u);var c=this.proxy("traits.name");if(typeof c=="string"){var d=s(c).indexOf(" ");if(d!==-1)return s(c.substr(d+1))}},l.uid=function(){return this.userId()||this.username()||this.email()},l.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},l.age=function(){var u=this.birthday(),c=t.default(this.traits(),"age");if(c!=null)return c;if(u instanceof Date){var d=new Date;return d.getFullYear()-u.getFullYear()}},l.avatar=function(){var u=this.traits();return t.default(u,"avatar")||t.default(u,"photoUrl")||t.default(u,"avatarUrl")},l.position=function(){var u=this.traits();return t.default(u,"position")||t.default(u,"jobTitle")},l.username=e.Facade.proxy("traits.username"),l.website=e.Facade.one("traits.website"),l.websites=e.Facade.multi("traits.website"),l.phone=e.Facade.one("traits.phone"),l.phones=e.Facade.multi("traits.phone"),l.address=e.Facade.proxy("traits.address"),l.gender=e.Facade.proxy("traits.gender"),l.birthday=e.Facade.proxy("traits.birthday"),ae}var se={},tr;function Mt(){if(tr)return se;tr=1;var r=se&&se.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(se,"__esModule",{value:!0}),se.Track=void 0;var e=r(ye()),t=me(),n=qr(),i=r(Ye()),o=r(Xe());function s(u,c){t.Facade.call(this,u,c)}se.Track=s,e.default(s,t.Facade);var a=s.prototype;a.action=function(){return"track"},a.type=a.action,a.event=t.Facade.field("event"),a.value=t.Facade.proxy("properties.value"),a.category=t.Facade.proxy("properties.category"),a.id=t.Facade.proxy("properties.id"),a.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},a.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},a.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},a.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},a.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},a.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},a.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},a.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},a.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},a.sku=t.Facade.proxy("properties.sku"),a.tax=t.Facade.proxy("properties.tax"),a.name=t.Facade.proxy("properties.name"),a.price=t.Facade.proxy("properties.price"),a.total=t.Facade.proxy("properties.total"),a.repeat=t.Facade.proxy("properties.repeat"),a.coupon=t.Facade.proxy("properties.coupon"),a.shipping=t.Facade.proxy("properties.shipping"),a.discount=t.Facade.proxy("properties.discount"),a.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},a.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},a.description=t.Facade.proxy("properties.description"),a.plan=t.Facade.proxy("properties.plan"),a.subtotal=function(){var u=o.default(this.properties(),"subtotal"),c=this.total()||this.revenue();if(u)return u;if(!c)return 0;if(this.total()){var d=this.tax();d&&(c-=d),d=this.shipping(),d&&(c-=d),d=this.discount(),d&&(c+=d)}return c},a.products=function(){var u=this.properties(),c=o.default(u,"products");return Array.isArray(c)?c.filter(function(d){return d!==null}):[]},a.quantity=function(){var u=this.obj.properties||{};return u.quantity||1},a.currency=function(){var u=this.obj.properties||{};return u.currency||"USD"},a.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},a.query=t.Facade.proxy("options.query"),a.properties=function(u){var c=this.field("properties")||{};u=u||{};for(var d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var p=this[d]==null?this.proxy("properties."+d):this[d]();if(p==null)continue;c[u[d]]=p,delete c[d]}return c},a.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},a.email=function(){var u=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(u)return u;var c=this.userId();if(i.default(c))return c},a.revenue=function(){var u=this.proxy("properties.revenue"),c=this.event(),d=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!u&&c&&c.match(d)&&(u=this.proxy("properties.total")),l(u)},a.cents=function(){var u=this.revenue();return typeof u!="number"?this.value()||0:u*100},a.identify=function(){var u=this.json();return u.traits=this.traits(),new n.Identify(u,this.opts)};function l(u){if(u){if(typeof u=="number")return u;if(typeof u=="string"&&(u=u.replace(/\$/g,""),u=parseFloat(u),!isNaN(u)))return u}}return se}var ue={},rr;function Ur(){if(rr)return ue;rr=1;var r=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ue,"__esModule",{value:!0}),ue.Page=void 0;var e=r(ye()),t=me(),n=Mt(),i=r(Ye());function o(a,l){t.Facade.call(this,a,l)}ue.Page=o,e.default(o,t.Facade);var s=o.prototype;return s.action=function(){return"page"},s.type=s.action,s.category=t.Facade.field("category"),s.name=t.Facade.field("name"),s.title=t.Facade.proxy("properties.title"),s.path=t.Facade.proxy("properties.path"),s.url=t.Facade.proxy("properties.url"),s.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},s.properties=function(a){var l=this.field("properties")||{},u=this.category(),c=this.name();a=a||{},u&&(l.category=u),c&&(l.name=c);for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var p=this[d]==null?this.proxy("properties."+d):this[d]();if(p==null)continue;l[a[d]]=p,d!==a[d]&&delete l[d]}return l},s.email=function(){var a=this.proxy("context.traits.email")||this.proxy("properties.email");if(a)return a;var l=this.userId();if(i.default(l))return l},s.fullName=function(){var a=this.category(),l=this.name();return l&&a?a+" "+l:l},s.event=function(a){return a?"Viewed "+a+" Page":"Loaded a Page"},s.track=function(a){var l=this.json();return l.event=this.event(a),l.timestamp=this.timestamp(),l.properties=this.properties(),new n.Track(l,this.opts)},ue}var le={},nr;function Gi(){if(nr)return le;nr=1;var r=le&&le.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(le,"__esModule",{value:!0}),le.Screen=void 0;var e=r(ye()),t=Ur(),n=Mt();function i(o,s){t.Page.call(this,o,s)}return le.Screen=i,e.default(i,t.Page),i.prototype.action=function(){return"screen"},i.prototype.type=i.prototype.action,i.prototype.event=function(o){return o?"Viewed "+o+" Screen":"Loaded a Screen"},i.prototype.track=function(o){var s=this.json();return s.event=this.event(o),s.timestamp=this.timestamp(),s.properties=this.properties(),new n.Track(s,this.opts)},le}var ce={},ir;function Ji(){if(ir)return ce;ir=1;var r=ce&&ce.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ce,"__esModule",{value:!0}),ce.Delete=void 0;var e=r(ye()),t=me();function n(i,o){t.Facade.call(this,i,o)}return ce.Delete=n,e.default(n,t.Facade),n.prototype.type=function(){return"delete"},ce}var or;function Wi(){return or||(or=1,(function(r){var e=Oe&&Oe.__assign||function(){return e=Object.assign||function(c){for(var d,p=1,v=arguments.length;p<v;p++){d=arguments[p];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(c[h]=d[h])}return c},e.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.Delete=r.Screen=r.Page=r.Track=r.Identify=r.Group=r.Alias=r.Facade=void 0;var t=me();Object.defineProperty(r,"Facade",{enumerable:!0,get:function(){return t.Facade}});var n=Hi();Object.defineProperty(r,"Alias",{enumerable:!0,get:function(){return n.Alias}});var i=Vi();Object.defineProperty(r,"Group",{enumerable:!0,get:function(){return i.Group}});var o=qr();Object.defineProperty(r,"Identify",{enumerable:!0,get:function(){return o.Identify}});var s=Mt();Object.defineProperty(r,"Track",{enumerable:!0,get:function(){return s.Track}});var a=Ur();Object.defineProperty(r,"Page",{enumerable:!0,get:function(){return a.Page}});var l=Gi();Object.defineProperty(r,"Screen",{enumerable:!0,get:function(){return l.Screen}});var u=Ji();Object.defineProperty(r,"Delete",{enumerable:!0,get:function(){return u.Delete}}),r.default=e(e({},t.Facade),{Alias:n.Alias,Group:i.Group,Identify:o.Identify,Track:s.Track,Page:a.Page,Screen:l.Screen,Delete:u.Delete})})(Oe)),Oe}var de=Wi();function Ge(r,e){var t=new de.Facade(r,e);return r.type==="track"&&(t=new de.Track(r,e)),r.type==="identify"&&(t=new de.Identify(r,e)),r.type==="page"&&(t=new de.Page(r,e)),r.type==="alias"&&(t=new de.Alias(r,e)),r.type==="group"&&(t=new de.Group(r,e)),r.type==="screen"&&(t=new de.Screen(r,e)),Object.defineProperty(t,"obj",{value:r,writable:!0}),t}var Qi=function(r){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,r(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;r(e)})},zr=(function(r){q(e,r);function e(t,n){var i=r.call(this,t)||this;return i.retryTimeout=n,i.name="RateLimitError",i}return e})(Error),Kr=function(r){return m({"Content-Type":"text/plain"},typeof r=="function"?r():r)},Zi=500,Xi=64;function jt(r){var e=encodeURI(JSON.stringify(r)).split(/%..|./).length-1;return e/1024}function Yi(r){return jt(r)>=Zi-50}function eo(r){return jt(r)>=Xi-10}function to(r){var e=[],t=0;return r.forEach(function(n){var i=jt(e[t]);i>=64&&t++,e[t]?e[t].push(n):e[t]=[n]}),e}function ro(r,e){var t,n,i=[],o=!1,s=(t=e?.size)!==null&&t!==void 0?t:10,a=(n=e?.timeout)!==null&&n!==void 0?n:5e3,l=0;function u(h){var y;if(h.length!==0){var b=(y=h[0])===null||y===void 0?void 0:y.writeKey,w=h.map(function(k){var E=k;E.sentAt;var P=br(E,["sentAt"]);return P});return We("https://".concat(r,"/b"),{credentials:e?.credentials,keepalive:e?.keepalive||o,headers:Kr(e?.headers),method:"post",body:JSON.stringify({writeKey:b,batch:w,sentAt:new Date().toISOString()}),priority:e?.priority}).then(function(k){var E;if(k.status>=500)throw new Error("Bad response from server: ".concat(k.status));if(k.status===429){var P=(E=k.headers)===null||E===void 0?void 0:E.get("x-ratelimit-reset"),O=typeof P=="string"?parseInt(P)*1e3:a;throw new zr("Rate limit exceeded: ".concat(k.status),O)}})}}function c(h){var y;return h===void 0&&(h=1),g(this,void 0,void 0,function(){var b;return _(this,function(w){return i.length?(b=i,i=[],[2,(y=u(b))===null||y===void 0?void 0:y.catch(function(k){var E,P=Z.system();P.log("error","Error sending batch",k),h<=((E=e?.maxRetries)!==null&&E!==void 0?E:10)&&(k.name==="RateLimitError"&&(l=k.retryTimeout),i.push.apply(i,b),i.map(function(O){if("_metadata"in O){var A=O;A._metadata=m(m({},A._metadata),{retryCount:h})}}),p(h+1))})]):[2]})})}var d;function p(h){h===void 0&&(h=1),!d&&(d=setTimeout(function(){d=void 0,c(h).catch(console.error)},l||a),l=0)}Qi(function(h){if(o=h,o&&i.length){var y=to(i).map(u);Promise.all(y).catch(console.error)}});function v(h,y){return g(this,void 0,void 0,function(){var b;return _(this,function(w){return i.push(y),b=i.length>=s||Yi(i)||e?.keepalive&&eo(i),[2,b||o?c():p()]})})}return{dispatch:v}}function no(r){function e(t,n){return We(t,{credentials:r?.credentials,keepalive:r?.keepalive,headers:Kr(r?.headers),method:"post",body:JSON.stringify(n),priority:r?.priority}).then(function(i){var o;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var s=(o=i.headers)===null||o===void 0?void 0:o.get("x-ratelimit-reset"),a=s?parseInt(s)*1e3:5e3;throw new zr("Rate limit exceeded: ".concat(i.status),a)}})}return{dispatch:e}}function io(r,e,t,n,i){var o,s=r.user();delete e.options,e.writeKey=t?.apiKey,e.userId=e.userId||s.id(),e.anonymousId=e.anonymousId||s.anonymousId(),e.sentAt=new Date;var a=r.queue.failedInitializations||[];a.length>0&&(e._metadata={failedInitializations:a}),i!=null&&(i.attempts>1&&(e._metadata=m(m({},e._metadata),{retryCount:i.attempts})),i.attempts++);var l=[],u=[];for(var c in n){var d=n[c];c==="Segment.io"&&l.push(c),d.bundlingStatus==="bundled"&&l.push(c),d.bundlingStatus==="unbundled"&&u.push(c)}for(var p=0,v=t?.unbundledIntegrations||[];p<v.length;p++){var h=v[p];u.includes(h)||u.push(h)}var y=(o=t?.maybeBundledConfigIds)!==null&&o!==void 0?o:{},b=[];return l.sort().forEach(function(w){var k;((k=y[w])!==null&&k!==void 0?k:[]).forEach(function(E){b.push(E)})}),t?.addBundledMetadata!==!1&&(e._metadata=m(m({},e._metadata),{bundled:l.sort(),unbundled:u.sort(),bundledIds:b})),e}var oo=function(r,e){return g(void 0,void 0,void 0,function(){var t;return _(this,function(n){return t=function(i){return g(void 0,void 0,void 0,function(){var o;return _(this,function(s){switch(s.label){case 0:return r(i)?(o=t,[4,e()]):[3,2];case 1:return[2,o.apply(void 0,[s.sent()])];case 2:return[2]}})})},[2,t(void 0)]})})};function ao(r,e){return g(this,void 0,void 0,function(){var t,n=this;return _(this,function(i){switch(i.label){case 0:return t=[],je()?[2,e]:[4,oo(function(){return e.length>0&&!je()},function(){return g(n,void 0,void 0,function(){var o,s,a;return _(this,function(l){switch(l.label){case 0:return o=e.pop(),o?[4,Me(o,r)]:[2];case 1:return s=l.sent(),a=s instanceof Z,a||t.push(o),[2]}})})})];case 1:return i.sent(),t.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function ke(r,e,t,n){var i=this;r||setTimeout(function(){return g(i,void 0,void 0,function(){var o,s;return _(this,function(a){switch(a.label){case 0:return o=!0,[4,ao(t,e)];case 1:return s=a.sent(),o=!1,e.todo>0&&n(o,s,t,n),[2]}})})},Math.random()*5e3)}function so(r,e){var t,n,i,o,s=r.user();return e.previousId=(i=(n=(t=e.previousId)!==null&&t!==void 0?t:e.from)!==null&&n!==void 0?n:s.id())!==null&&i!==void 0?i:s.anonymousId(),e.userId=(o=e.userId)!==null&&o!==void 0?o:e.to,delete e.from,delete e.to,e}var uo=function(r){return r.name==="Segment.io"};function lo(r,e,t){var n,i,o;window.addEventListener("pagehide",function(){a.push.apply(a,Array.from(l)),l.clear()});var s=(n=e?.apiKey)!==null&&n!==void 0?n:"",a=r.options.disableClientPersistence?new kt(r.queue.queue.maxAttempts,[]):new It(r.queue.queue.maxAttempts,"".concat(s,":dest-Segment.io")),l=new Set,u=!1,c=(i=e?.apiHost)!==null&&i!==void 0?i:xr,d=(o=e?.protocol)!==null&&o!==void 0?o:"https",p="".concat(d,"://").concat(c),v=e?.deliveryStrategy,h=v&&"strategy"in v&&v.strategy==="batching"?ro(c,v.config):no(v?.config);function y(w){return g(this,void 0,void 0,function(){var k,E;return _(this,function(P){return je()?(a.push(w),ke(u,a,b,ke),[2,w]):(l.add(w),k=w.event.type.charAt(0),E=Ge(w.event).json(),w.event.type==="track"&&delete E.traits,w.event.type==="alias"&&(E=so(r,E)),a.getAttempts(w)>=a.maxAttempts?(l.delete(w),[2,w]):[2,h.dispatch("".concat(p,"/").concat(k),io(r,E,e,t,w)).then(function(){return w}).catch(function(O){if(w.log("error","Error sending event",O),O.name==="RateLimitError"){var A=O.retryTimeout;a.pushWithBackoff(w,A)}else a.pushWithBackoff(w);return ke(u,a,b,ke),w}).finally(function(){l.delete(w)})])})})}var b={metadata:{writeKey:s,apiHost:c,protocol:d},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:y,identify:y,page:y,alias:y,group:y,screen:y};return a.todo&&ke(u,a,b,ke),b}var Y="This is being deprecated and will be not be available in future releases of Analytics JS",at=Et(),st=at?.analytics;function co(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=e?10:1,i=t?new kt(n,[]):new It(n,r);return new wi(i)}var fo=(function(){function r(e,t){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var o;return(o=t.plugins.find(uo))===null||o===void 0?void 0:o.metadata},this.writeKey=e.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(n=e.cdnSettings)!==null&&n!==void 0?n:i,this.cdnURL=e.cdnURL}return Object.defineProperty(r.prototype,"apiHost",{get:function(){var e,t;return(t=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||t===void 0?void 0:t.apiHost},enumerable:!1,configurable:!0}),r})();function G(){console.warn(Y)}var Hr=(function(r){q(e,r);function e(t,n,i,o,s){var a=this,l,u;a=r.call(this)||this,a._debug=!1,a.initialized=!1,a.user=function(){return a._user},a.init=a.initialize.bind(a),a.log=G,a.addIntegrationMiddleware=G,a.listeners=G,a.addEventListener=G,a.removeAllListeners=G,a.removeListener=G,a.removeEventListener=G,a.hasListeners=G,a.add=G,a.addIntegration=G;var c=n?.cookie,d=(l=n?.disableClientPersistence)!==null&&l!==void 0?l:!1;a.queue=i??co("".concat(t.writeKey,":event-queue"),n?.retryQueue,d),a.settings=new fo(t,a.queue);var p=n?.storage;return a._universalStorage=a.createStore(d,p,c),a._user=o??new $r(m({persist:!d,storage:n?.storage},n?.user),c).load(),a._group=s??new Oi(m({persist:!d,storage:n?.storage},n?.group),c).load(),a.eventFactory=new mi(a._user),a.integrations=(u=n?.integrations)!==null&&u!==void 0?u:{},a.options=n??{},Ct(a),a}return e.prototype.createStore=function(t,n,i){return t?new pe([new Ot]):n&&Rr(n)?new pe(mt(Lr(n.stores,i))):new pe(mt([B.LocalStorage,{name:B.Cookie,settings:i},B.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o,s,a,l,u,c,d=this;return _(this,function(p){return i=be(t),o=ri.apply(void 0,t),s=o[0],a=o[1],l=o[2],u=o[3],c=this.eventFactory.track(s,a,l,this.integrations,i),[2,this._dispatch(c,u).then(function(v){return d.emit("track",s,v.event.properties,v.event.options),v})]})})},e.prototype.page=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o,s,a,l,u,c,d,p=this;return _(this,function(v){return i=be(t),o=$t.apply(void 0,t),s=o[0],a=o[1],l=o[2],u=o[3],c=o[4],d=this.eventFactory.page(s,a,l,u,this.integrations,i),[2,this._dispatch(d,c).then(function(h){return p.emit("page",s,a,h.event.properties,h.event.options),h})]})})},e.prototype.identify=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o,s,a,l,u,c,d=this;return _(this,function(p){return i=be(t),o=Tt(this._user).apply(void 0,t),s=o[0],a=o[1],l=o[2],u=o[3],this._user.identify(s,a),c=this.eventFactory.identify(this._user.id(),this._user.traits(),l,this.integrations,i),[2,this._dispatch(c,u).then(function(v){return d.emit("identify",v.event.userId,v.event.traits,v.event.options),v})]})})},e.prototype.group=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=be(n);if(n.length===0)return this._group;var s=Tt(this._group).apply(void 0,n),a=s[0],l=s[1],u=s[2],c=s[3];this._group.identify(a,l);var d=this._group.id(),p=this._group.traits(),v=this.eventFactory.group(d,p,u,this.integrations,o);return this._dispatch(v,c).then(function(h){return t.emit("group",h.event.groupId,h.event.traits,h.event.options),h})},e.prototype.alias=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o,s,a,l,u,c,d=this;return _(this,function(p){return i=be(t),o=ni.apply(void 0,t),s=o[0],a=o[1],l=o[2],u=o[3],c=this.eventFactory.alias(s,a,l,this.integrations,i),[2,this._dispatch(c,u).then(function(v){return d.emit("alias",s,a,v.event.options),v})]})})},e.prototype.screen=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o,s,a,l,u,c,d,p=this;return _(this,function(v){return i=be(t),o=$t.apply(void 0,t),s=o[0],a=o[1],l=o[2],u=o[3],c=o[4],d=this.eventFactory.screen(s,a,l,u,this.integrations,i),[2,this._dispatch(d,c).then(function(h){return p.emit("screen",s,a,h.event.properties,h.event.options),h})]})})},e.prototype.trackClick=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o;return _(this,function(s){switch(s.label){case 0:return[4,K(()=>import("./5lZm5Xt2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)];case 1:return i=s.sent(),[2,(o=i.link).call.apply(o,$([this],t,!1))]}})})},e.prototype.trackLink=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o;return _(this,function(s){switch(s.label){case 0:return[4,K(()=>import("./5lZm5Xt2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)];case 1:return i=s.sent(),[2,(o=i.link).call.apply(o,$([this],t,!1))]}})})},e.prototype.trackSubmit=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o;return _(this,function(s){switch(s.label){case 0:return[4,K(()=>import("./5lZm5Xt2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)];case 1:return i=s.sent(),[2,(o=i.form).call.apply(o,$([this],t,!1))]}})})},e.prototype.trackForm=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o;return _(this,function(s){switch(s.label){case 0:return[4,K(()=>import("./5lZm5Xt2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)];case 1:return i=s.sent(),[2,(o=i.form).call.apply(o,$([this],t,!1))]}})})},e.prototype.register=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o,s=this;return _(this,function(a){switch(a.label){case 0:return i=Z.system(),o=t.map(function(l){return s.queue.register(i,l,s)}),[4,Promise.all(o)];case 1:return a.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(this,void 0,void 0,function(){var i,o,s=this;return _(this,function(a){switch(a.label){case 0:return i=Z.system(),o=t.map(function(l){var u=s.queue.plugins.find(function(c){return c.name===l});if(u)return s.queue.deregister(i,u,s);i.log("warn","plugin ".concat(l," not found"))}),[4,Promise.all(o)];case 1:return a.sent(),[2,i]}})})},e.prototype.debug=function(t){return t===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=t,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(t){this.settings.timeout=t},e.prototype._dispatch=function(t,n){return g(this,void 0,void 0,function(){var i;return _(this,function(o){return i=new Z(t),i.stats.increment("analytics_js.invoke",1,[t.type]),je()&&!this.options.retryQueue?[2,i]:[2,ti(i,this.queue,this,{callback:n,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(t){return g(this,void 0,void 0,function(){var n=this;return _(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return g(n,void 0,void 0,function(){var o,s,a;return _(this,function(l){switch(l.label){case 0:return[4,K(()=>Promise.resolve().then(()=>Po),void 0,import.meta.url)];case 1:return o=l.sent().sourceMiddlewarePlugin,s={},this.queue.plugins.forEach(function(u){if(u.type==="destination")return s[u.name]=!0}),a=o(t,s),[4,this.register(a)];case 2:return l.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.queue.plugins.filter(yi).forEach(function(o){(t==="*"||o.name.toLowerCase()===t.toLowerCase())&&o.addMiddleware.apply(o,n)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(t){return this._user.anonymousId(t)},e.prototype.queryString=function(t){return g(this,void 0,void 0,function(){var n;return _(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,K(()=>import("./BAOHGh3L.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]),import.meta.url)];case 1:return n=i.sent().queryString,[2,n(this,t)]}})})},e.prototype.use=function(t){return t(this),this},e.prototype.ready=function(t){return t===void 0&&(t=function(n){return n}),g(this,void 0,void 0,function(){return _(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return t(i),i})]})})},e.prototype.noConflict=function(){return console.warn(Y),Ai(st??this),this},e.prototype.normalize=function(t){return console.warn(Y),this.eventFactory.normalize(t)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(Y),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return Qe},enumerable:!1,configurable:!0}),e.prototype.initialize=function(t,n){return g(this,void 0,void 0,function(){return _(this,function(i){return console.warn(Y),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(t){return g(this,void 0,void 0,function(){return _(this,function(n){switch(n.label){case 0:return console.warn(Y),[4,this.page({path:t})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var t;return console.warn(Y),(t=this._plugins)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(Y);var t=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var o="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),s=window[o];if(!s)return n;var a=s.Integration;return a?(n[i.name]=a,n):(n[i.name]=s,n)},{});return t},enumerable:!1,configurable:!0}),e.prototype.push=function(t){var n=this,i=t.shift();i&&!n[i]||n[i].apply(this,t)},e})(wt),ar=(function(r){q(e,r);function e(){var t=r.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return t.initialized=!0,t}return e})(Hr),sr={};function Vr(){return typeof process>"u"||!sr?{}:sr}var po=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,ho=function(){var r,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(t){var n,i=(n=t.getAttribute("src"))!==null&&n!==void 0?n:"",o=po.exec(i);o&&o[1]&&(r=o[1])}),r},He,vo=function(){var r,e=He??((r=Tr())===null||r===void 0?void 0:r._cdn);return e},mo=function(r){var e=Tr();e&&(e._cdn=r),He=r},Dt=function(){var r=vo();if(r)return r;var e=ho();return e||"https://cdn.segment.com"},Ls=function(){var r=Dt();return"".concat(r,"/next-integrations")};function yo(r,e){var t,n=Object.entries((t=e.integrations)!==null&&t!==void 0?t:{}).reduce(function(i,o){var s,a,l=o[0],u=o[1];return typeof u=="object"?m(m({},i),(s={},s[l]=u,s)):m(m({},i),(a={},a[l]={},a))},{});return Object.entries(r.integrations).reduce(function(i,o){var s,a=o[0],l=o[1];return m(m({},i),(s={},s[a]=m(m({},l),n[a]),s))},{})}function go(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch{return r}}function _o(r){return g(this,void 0,void 0,function(){var e;return _(this,function(t){return e=navigator.userAgentData,e?r?[2,e.getHighEntropyValues(r).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var Ae;function bo(){if(Ae)return Ae;var r=jr(window.location.href);return Ae={expires:31536e6,secure:!1,path:"/"},r&&(Ae.domain=r),Ae}function wo(r){var e={btid:"dataxu",urid:"millennial-media"};r.startsWith("?")&&(r=r.substring(1)),r=r.replace(/\?/g,"&");for(var t=r.split("&"),n=0,i=t;n<i.length;n++){var o=i[n],s=o.split("="),a=s[0],l=s[1];if(e[a])return{id:l,type:e[a]}}}function ko(r){return r.startsWith("?")&&(r=r.substring(1)),r=r.replace(/\?/g,"&"),r.split("&").reduce(function(e,t){var n=t.split("="),i=n[0],o=n[1],s=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var a=i.slice(4);a==="campaign"&&(a="name"),e[a]=go(s)}return e},{})}function So(){var r=Q.get("_ga");if(r&&r.startsWith("amp"))return r}function xo(r,e,t){var n,i=new pe(t?[]:[new Dr(bo())]),o=i.get("s:context.referrer"),s=(n=wo(r))!==null&&n!==void 0?n:o;s&&(e&&(e.referrer=m(m({},e.referrer),s)),i.set("s:context.referrer",s))}var Eo=function(r){try{var e=new URLSearchParams;return Object.entries(r).forEach(function(t){var n=t[0],i=t[1];Array.isArray(i)?i.forEach(function(o){return e.append(n,o)}):e.append(n,i)}),e.toString()}catch{return""}},Io=(function(){function r(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(t,n){return g(e,void 0,void 0,function(){var i;return _(this,function(o){switch(o.label){case 0:this.instance=n,o.label=1;case 1:return o.trys.push([1,3,,4]),i=this,[4,_o(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(t){var n,i,o=t.event.context,s=o.page.search||"",a=typeof s=="object"?Eo(s):s;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var l=navigator.userLanguage||navigator.language;typeof o.locale>"u"&&typeof l<"u"&&(o.locale=l),(n=o.library)!==null&&n!==void 0||(o.library={name:"analytics.js",version:"".concat("npm:next","-").concat(Qe)}),a&&!o.campaign&&(o.campaign=ko(a));var u=So();u&&(o.amp={id:u}),xo(a,o,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return t},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return r})(),Co=new Io;function Gr(r){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(t){return t.src===r})}function ut(r,e){var t=Gr(r);if(t!==void 0){var n=t?.getAttribute("status");if(n==="loaded")return Promise.resolve(t);if(n==="loading")return new Promise(function(i,o){t.addEventListener("load",function(){return i(t)}),t.addEventListener("error",function(s){return o(s)})})}return new Promise(function(i,o){var s,a=window.document.createElement("script");a.type="text/javascript",a.src=r,a.async=!0,a.setAttribute("status","loading");for(var l=0,u=Object.entries({});l<u.length;l++){var c=u[l],d=c[0],p=c[1];a.setAttribute(d,p)}a.onload=function(){a.onerror=a.onload=null,a.setAttribute("status","loaded"),i(a)},a.onerror=function(){a.onerror=a.onload=null,a.setAttribute("status","error"),o(new Error("Failed to load ".concat(r)))};var v=window.document.querySelector("script");v?(s=v.parentElement)===null||s===void 0||s.insertBefore(a,v):window.document.head.appendChild(a)})}function $s(r){var e=Gr(r);return e!==void 0&&e.remove(),Promise.resolve()}function Jr(r,e,t){return g(this,void 0,void 0,function(){function n(u,c){return g(this,void 0,void 0,function(){var d,p,v;return _(this,function(h){switch(h.label){case 0:return d=!1,p=null,[4,c({payload:Ge(u,{clone:!0,traverse:!1}),integration:r,next:function(y){d=!0,y===null&&(p=null),y&&(p=y.obj)}})];case 1:return h.sent(),!d&&p!==null&&(p=p,p.integrations=m(m({},u.integrations),(v={},v[r]=!1,v))),[2,p]}})})}var i,o,s,a,l;return _(this,function(u){switch(u.label){case 0:i=Ge(e,{clone:!0,traverse:!1}).rawEvent(),o=0,s=t,u.label=1;case 1:return o<s.length?(a=s[o],[4,n(i,a)]):[3,4];case 2:if(l=u.sent(),l===null)return[2,null];i=l,u.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function Oo(r,e){function t(n){return g(this,void 0,void 0,function(){var i;return _(this,function(o){switch(o.label){case 0:return i=!1,[4,r({payload:Ge(n.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(s){i=!0,s&&(n.event=s.obj)}})];case 1:if(o.sent(),!i)throw new Ie({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(r.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:t,page:t,screen:t,identify:t,alias:t,group:t}}const Po=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:Jr,sourceMiddlewarePlugin:Oo},Symbol.toStringTag,{value:"Module"}));function ze(r,e){var t=e.methodName,n=e.integrationName,i=e.type,o=e.didError,s=o===void 0?!1:o;r.stats.increment("analytics_js.integration.invoke".concat(s?".error":""),1,["method:".concat(t),"integration_name:".concat(n),"type:".concat(i)])}var Ao=(function(){function r(e,t){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=wr(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=t,this.name=e,this.type=t.type,this.alternativeNames.push(t.name)}return r.prototype.addMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.type==="destination"&&(e=this.middleware).push.apply(e,t)},r.prototype.transform=function(e){return g(this,void 0,void 0,function(){var t;return _(this,function(n){switch(n.label){case 0:return[4,Jr(this.name,e.event,this.middleware)];case 1:return t=n.sent(),t===null&&e.cancel(new Ie({retry:!1,reason:"dropped by destination middleware"})),[2,new Z(t)]}})})},r.prototype._createMethod=function(e){var t=this;return function(n){return g(t,void 0,void 0,function(){var i,o;return _(this,function(s){switch(s.label){case 0:return this.action[e]?(i=n,this.type!=="destination"?[3,2]:[4,this.transform(n)]):[2,n];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!s.sent())throw new Error("Something prevented the destination from getting ready");return ze(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return s.sent(),[3,6];case 5:throw o=s.sent(),ze(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),o;case 6:return[2,n]}})})}},r.prototype.isLoaded=function(){return this.action.isLoaded()},r.prototype.ready=function(){return g(this,void 0,void 0,function(){return _(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},r.prototype.load=function(e,t){return g(this,void 0,void 0,function(){var n,i,o,s;return _(this,function(a){switch(a.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];a.label=1;case 1:return a.trys.push([1,3,,4]),ze(e,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(e,t),o=(i=this.loadPromise).resolve,[4,n];case 2:return o.apply(i,[a.sent()]),[2,n];case 3:throw s=a.sent(),ze(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(s),s;case 4:return[2]}})})},r.prototype.unload=function(e,t){var n,i;return(i=(n=this.action).unload)===null||i===void 0?void 0:i.call(n,e,t)},r})();function Mo(r){if(!Array.isArray(r))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return r.forEach(function(t){e.forEach(function(n){var i;if(t[n]===void 0)throw new Error("Plugin: ".concat((i=t.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(n))})}),!0}function jo(r,e){var t=r[e.creationName],n=r[e.name];return r.All===!1&&!t&&!n||t===!1||n===!1}function Do(r,e){return g(this,void 0,void 0,function(){var t,n,i,o,s,a;return _(this,function(l){switch(l.label){case 0:if(l.trys.push([0,9,,10]),t=new RegExp("https://cdn.segment.(com|build)"),n=Dt(),!e)return[3,6];i=r.url.split("/"),o=i[i.length-2],s=r.url.replace(o,btoa(o).replace(/=/g,"")),l.label=1;case 1:return l.trys.push([1,3,,5]),[4,ut(s.replace(t,n))];case 2:return l.sent(),[3,5];case 3:return l.sent(),[4,ut(r.url.replace(t,n))];case 4:return l.sent(),[3,5];case 5:return[3,8];case 6:return[4,ut(r.url.replace(t,n))];case 7:l.sent(),l.label=8;case 8:return typeof window[r.libraryName]=="function"?[2,window[r.libraryName]]:[3,10];case 9:throw a=l.sent(),console.error("Failed to create PluginFactory",r),a;case 10:return[2]}})})}function Ro(r,e,t,n,i,o){var s,a,l;return g(this,void 0,void 0,function(){var u,c,d,p=this;return _(this,function(v){switch(v.label){case 0:return u=[],c=(a=(s=r.middlewareSettings)===null||s===void 0?void 0:s.routingRules)!==null&&a!==void 0?a:[],d=((l=r.remotePlugins)!==null&&l!==void 0?l:[]).map(function(h){return g(p,void 0,void 0,function(){var y,b,w,k,E,P,O;return _(this,function(A){switch(A.label){case 0:if(jo(e,h))return[2];A.label=1;case 1:return A.trys.push([1,6,,7]),b=o?.find(function(I){var S=I.pluginName;return S===h.name}),b?[3,3]:[4,Do(h,n?.obfuscate)];case 2:b=A.sent(),A.label=3;case 3:return y=b,y?(w=t[h.name],[4,y(m(m({},h.settings),w))]):[3,5];case 4:k=A.sent(),E=Array.isArray(k)?k:[k],Mo(E),P=c.filter(function(I){return I.destinationName===h.creationName}),E.forEach(function(I){var S=new Ao(h.creationName,I);P.length&&i&&S.addMiddleware(i),u.push(S)}),A.label=5;case 5:return[3,7];case 6:return O=A.sent(),console.warn("Failed to load Remote Plugin",O),[3,7];case 7:return[2]}})})}),[4,Promise.all(d)];case 1:return v.sent(),[2,u.filter(Boolean)]}})})}var lt,ur,Lo=Et(),lr=(lt=(ur=Lo).__SEGMENT_INSPECTOR__)!==null&&lt!==void 0?lt:ur.__SEGMENT_INSPECTOR__={},$o=function(r){var e;return(e=lr.attach)===null||e===void 0?void 0:e.call(lr,r)};function To(r,e){return We("".concat(e,"/v1/projects/").concat(r,"/settings")).then(function(t){return t.ok?t.json():t.text().then(function(n){throw new Error(n)})}).catch(function(t){throw console.error(t.message),t})}function Fo(r){return Vr().NODE_ENV!=="test"&&Object.keys(r.integrations).length>1}function No(r){var e,t,n;return Vr().NODE_ENV!=="test"&&((n=(t=(e=r.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)>0}function Bo(r,e){Li(r,e),Ri(r,e)}function qo(r,e,t){return g(this,void 0,void 0,function(){return _(this,function(n){switch(n.label){case 0:return[4,zo(r,e)];case 1:return n.sent(),$i(r,t),[2]}})})}var Uo=function(){var r,e,t=(r=window.location.hash)!==null&&r!==void 0?r:"",n=(e=window.location.search)!==null&&e!==void 0?e:"",i=n.length?n:t.replace(/(?=#).*(?=\?)/,"");return i},zo=function(r,e){return g(void 0,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return e.includes("ajs_")?[4,r.queryString(e).catch(console.error)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})};function Ko(r,e,t,n,i,o,s){var a,l,u;return i===void 0&&(i=[]),g(this,void 0,void 0,function(){var c,d,p,v,h,y,b,w,k,E,P,O,A,I,S,L=this;return _(this,function(M){switch(M.label){case 0:return Bo(t,s),c=i?.filter(function(D){return typeof D=="object"}),d=i?.filter(function(D){return typeof D=="function"&&typeof D.pluginName=="string"}),No(e)?[4,K(()=>import("./CtQ5SWOa.js"),[],import.meta.url).then(function(D){return D.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return v=M.sent(),[3,3];case 2:v=void 0,M.label=3;case 3:return p=v,Fo(e)||o.length>0?[4,K(()=>import("./D9cYtZwZ.js"),__vite__mapDeps([9,10,1,2,3,4,5,6,7]),import.meta.url).then(function(D){return D.ajsDestinations(r,e,t.integrations,n,p,o)})]:[3,5];case 4:return y=M.sent(),[3,6];case 5:y=[],M.label=6;case 6:return h=y,e.legacyVideoPluginsEnabled?[4,K(()=>import("./CK_GHdve.js"),__vite__mapDeps([11,1,2,3,4,5,6,7]),import.meta.url).then(function(D){return D.loadLegacyVideoPlugins(t)})]:[3,8];case 7:M.sent(),M.label=8;case 8:return!((a=n.plan)===null||a===void 0)&&a.track?[4,K(()=>import("./J0ax1gH-.js"),__vite__mapDeps([12,10,1,2,3,4,5,6,7]),import.meta.url).then(function(D){var z;return D.schemaFilter((z=n.plan)===null||z===void 0?void 0:z.track,e)})]:[3,10];case 9:return w=M.sent(),[3,11];case 10:w=void 0,M.label=11;case 11:return b=w,k=yo(e,n),[4,Ro(e,t.integrations,k,n,p,d).catch(function(){return[]})];case 12:return E=M.sent(),P=$($([Co],h,!0),E,!0),b&&P.push(b),O=((l=n.integrations)===null||l===void 0?void 0:l.All)===!1&&!n.integrations["Segment.io"]||n.integrations&&n.integrations["Segment.io"]===!1,O?[3,14]:(I=(A=P).push,[4,lo(t,k["Segment.io"],e.integrations)]);case 13:I.apply(A,[M.sent()]),M.label=14;case 14:return[4,t.register.apply(t,$($([],P,!1),c,!1))];case 15:return S=M.sent(),[4,Di(t,s)];case 16:return M.sent(),Object.entries((u=e.enabledMiddleware)!==null&&u!==void 0?u:{}).some(function(D){var z=D[1];return z})?[4,K(()=>import("./BNQMXdq4.js"),__vite__mapDeps([13,1,2,3,4,5,6,7]),import.meta.url).then(function(D){var z=D.remoteMiddlewares;return g(L,void 0,void 0,function(){var ge,De;return _(this,function(Ce){switch(Ce.label){case 0:return[4,z(S,e,n.obfuscate)];case 1:return ge=Ce.sent(),De=ge.map(function(Qr){return t.addSourceMiddleware(Qr)}),[2,Promise.all(De)]}})})})]:[3,18];case 17:M.sent(),M.label=18;case 18:return[4,ji(t,s)];case 19:return M.sent(),[2,S]}})})}function Ho(r,e,t){var n,i,o,s,a,l,u,c,d;return e===void 0&&(e={}),g(this,void 0,void 0,function(){var p,v,h,y,b,w,k,E,P,O,A;return _(this,function(I){switch(I.label){case 0:return e.disable===!0?[2,[new ar,Z.system()]]:(e.globalAnalyticsKey&&Pi(e.globalAnalyticsKey),r.cdnURL&&mo(r.cdnURL),e.initialPageview&&t.add(new yt("page",[])),p=Uo(),v=(n=r.cdnURL)!==null&&n!==void 0?n:Dt(),(i=r.cdnSettings)!==null&&i!==void 0?(y=i,[3,3]):[3,1]);case 1:return[4,To(r.writeKey,v)];case 2:y=I.sent(),I.label=3;case 3:return h=y,e.updateCDNSettings&&(h=e.updateCDNSettings(h)),typeof e.disable!="function"?[3,5]:[4,e.disable(h)];case 4:if(b=I.sent(),b)return[2,[new ar,Z.system()]];I.label=5;case 5:return w=(s=(o=h.integrations["Segment.io"])===null||o===void 0?void 0:o.retryQueue)!==null&&s!==void 0?s:!0,e=m({retryQueue:w},e),k=new Hr(m(m({},r),{cdnSettings:h,cdnURL:v}),e),$o(k),E=(a=r.plugins)!==null&&a!==void 0?a:[],P=(l=r.classicIntegrations)!==null&&l!==void 0?l:[],O=(u=e.integrations)===null||u===void 0?void 0:u["Segment.io"],Er.initRemoteMetrics(m(m({},h.metrics),{host:(c=O?.apiHost)!==null&&c!==void 0?c:(d=h.metrics)===null||d===void 0?void 0:d.host,protocol:O?.protocol})),[4,Ko(r.writeKey,h,k,e,E,P,t)];case 6:return A=I.sent(),k.initialized=!0,k.emit("initialize",r,e),[4,qo(k,p,t)];case 7:return I.sent(),[2,[k,A]]}})})}var Vo=(function(r){q(e,r);function e(){var t=this,n=wr(),i=n.promise,o=n.resolve;return t=r.call(this,function(s){return i.then(function(a){var l=a[0],u=a[1];return Ho(l,u,s)})})||this,t._resolveLoadStart=function(s,a){return o([s,a])},t}return e.prototype.load=function(t,n){return n===void 0&&(n={}),this._resolveLoadStart(t,n),this},e.load=function(t,n){return n===void 0&&(n={}),new e().load(t,n)},e.standalone=function(t,n){return e.load({writeKey:t},n).then(function(i){return i[0]})},e})(Fi),Go={};const cr=Vo.load({writeKey:Go.SEGMENT_WRITE_KEY}),Jo="open premium",Wo="open premium unlock",Qo="open premium subscription",Zo="premium unlock",Xo="premium unlock paid",Yo="open premium failed",ea="premium subscription",ta=["innerHTML"],ra={key:1,class:"w-100",style:{display:"inline-block",position:"relative"}},na={class:"overlay p-3 d-flex align-items-center justify-content-center"},ia={class:"text-center text-white mt-4"},oa={class:"position-relative",style:{backgroundColor:"#5227AD",padding:"5rem"},id:"notify"},aa={class:"fs-5 text-white"},sa={class:"row g-3"},ua=["innerHTML"],la={class:"py-3"},ca={class:"ps-2"},da={class:"fs-6"},fa={class:"w-100"},pa={key:0},ha={class:"d-flex justify-content-center align-items-center"},va={class:"w-100 px-2",style:{"max-width":"fit-content"}},ma=["innerHTML"],ya={class:"text-center mt-2"},ga={key:1},_a={class:"text-center mt-2"},ba={__name:"ReadArticle",props:{ispremium:{type:Boolean,default:!1},post:{type:Object,default:()=>({})},chapter:{type:Object,default:()=>({})}},setup(r){const e=r,t=et(!1),n=et(!0),i=et(!1),o=Zr(),s=Xr(),a=vr(),l=T(()=>e.post?.content||""),u=T(()=>e.chapter?.price??"14.99"),c=T(()=>e.post?.title||""),d=T(()=>e.chapter?.excerpt??e.chapter?.content??"");function p(){t.value=!t.value,b(Jo,{})}function v(){n.value=!0,i.value=!1,b(Wo,{})}function h(){i.value=!0,n.value=!1,b(Qo,{})}function y(){return["dev","development","staging"].includes("production")}async function b(I,S){if(y())return;const L=o?.params?.slug;await cr.identify(L,{slug:L,...S?.user??{}}),await cr.track(I,S)}async function w(){let I=e.chapter?.plan_id;y()&&(I="63184"),await Paddle.Checkout.open({product:I,allowQuantity:!1,disableLogout:!0,frameInitialHeight:416,successCallback:S=>k(S),closeCallback:S=>E(S)}),b(Zo,{})}function k(I){I?.checkout?.completed&&(b(Xo,{product:I?.product??{},user:I?.user??{}}),I?.checkout?.redirect_url&&s.push(I?.checkout?.redirect_url))}function E(I){b(Yo,{product:I?.product??{},user:I?.user??{}})}function P(){b(ea,{})}Yr(()=>{A(),O(),y()&&Paddle.Environment.set("sandbox"),Paddle.Setup({vendor:Number(a.public.PADDLE_VENDOR)})});function O(){e.chapter||document.querySelectorAll("article pre").forEach(I=>{const S=document.createElement("div"),L=document.createElement("div"),M=document.createElement("div"),D=document.createElement("div"),z=document.createElement("div"),ge=document.createElement("div"),De="javascript",Ce=document.createElement("span");Ce.innerHTML=`Use our <a href="https://playground.masteringbackend.com/${De}?ref=masteringbackend&utm_source=masteringbackend&utm_medium=custom_code_editor&utm_campaign=${o.params.slug}" target="_blank">Online Code Editor</a>`,S.classList.add("custom-highlighter-wrapper"),L.classList.add("custom-highlighter-header"),z.classList.add("custom-highlighter-green"),M.classList.add("custom-highlighter-red"),D.classList.add("custom-highlighter-yellow"),ge.classList.add("custom-highlighter-footer"),I.insertAdjacentElement("beforebegin",S),L.appendChild(M),L.appendChild(D),L.appendChild(z),ge.appendChild(Ce),S.appendChild(L),S.appendChild(I),S.appendChild(ge)})}function A(){const I=document.querySelectorAll("table"),S=[];I.forEach(L=>{L.querySelector("tbody tr td:nth-child(2) p")?.textContent.includes("custom")&&S.push(L)}),S.forEach(L=>{console.log("Custom alert should be mounted for table:",L)})}return(I,S)=>{const L=mr,M=hr("LearnerIcon"),D=On;return x(),C("div",null,[r.ispremium?(x(),C("span",ra,[f("div",na,[f("div",ia,[f("div",oa,[S[2]||(S[2]=f("h3",{class:"fs-2 py-4"},"Don't Stop Learning",-1)),f("h6",aa," Continue reading the "+j(c.value)+" for $"+j(u.value)+" only or Get instant access to all current and upcoming courses and content through subscription. ",1),R(L,{appearance:"primary",size:"large",type:"button",onClick:p,"custom-style":{backgroundColor:"#633db5",color:"#fff"}},{default:N(()=>[...S[1]||(S[1]=[H(" Unlock Now ",-1)])]),_:1})])])]),f("div",sa,[f("article",{"data-clarity-region":"article",class:"w-100",innerHTML:l.value},null,8,ua)])])):(x(),C("article",{key:0,"data-clarity-region":"article",class:"w-100",innerHTML:l.value},null,8,ta)),R(D,{modelValue:t.value,"onUpdate:modelValue":S[0]||(S[0]=z=>t.value=z),contentClass:""},{left:N(()=>[S[5]||(S[5]=f("h3",null,"Don't Stop Learning",-1)),f("div",la,[f("div",{class:Ee(["w-100 p-2 my-4 d-flex hover justify-content-center align-items-center",{active:n.value}]),onClick:v},[f("div",ca,[S[3]||(S[3]=f("h4",null,"Continue reading",-1)),f("p",da,' Continue reading the "'+j(c.value)+'" for $'+j(u.value)+" only ",1)])],2),f("div",{class:Ee(["w-100 p-2 my-4 hover d-flex justify-content-center align-items-center",{active:i.value}]),onClick:h},[...S[4]||(S[4]=[f("div",{class:"ps-2"},[f("h4",null,"Monthly Subscription"),f("p",{class:"fs-6"}," Get instant access to all current and upcoming courses and content through subscription. ")],-1)])],2)]),f("div",fa,[R(M,{class:"mw-100"})])]),right:N(()=>[n.value?(x(),C("span",pa,[f("div",ha,[f("div",va,[S[6]||(S[6]=f("h4",null,"Unlock Advanced Chapters",-1)),f("p",{class:"fs-6 my-4",innerHTML:d.value},null,8,ma)])]),f("div",ya,[R(L,{appearance:"purple",type:"button",class:"col-12 py-3 my-2 fw-bold",onClick:ct(w,["prevent"])},{default:N(()=>[H(" Unlock now for $"+j(u.value),1)]),_:1})])])):F("",!0),i.value?(x(),C("span",ga,[S[8]||(S[8]=f("div",{class:"d-flex justify-content-center align-items-center"},[f("div",{class:"w-100 px-2",style:{"max-width":"fit-content"}},[f("h4",null,"Own your backend journey"),f("p",{class:"fs-6 my-4"}," Get instant access to all current and upcoming courses and content through subscription. "),f("ul",null,[f("li",null,"Personal Backend Portfolio to showcase your skills"),f("li",null,"Learn to build from Thousands Real-world Projects"),f("li",null,"Track your learnings and set schedules"),f("li",null," Follow Expert Vetted roadmaps to learn backend engineering. "),f("li",null," Map courses to Backend Projects to help you master your skills "),f("li",null," Online coding challenges by experts to improve your skills "),f("li",null," Pick projects from different business domains to practice. ")])])],-1)),f("div",_a,[R(L,{appearance:"purple",type:"button",class:"col-12 py-3 my-2 fw-bold",onClick:ct(P,["prevent"])},{default:N(()=>[...S[7]||(S[7]=[H(" Subscribe Now ",-1)])]),_:1})])])):F("",!0)]),_:1},8,["modelValue"])])}}},wa=Object.assign(ba,{__name:"ReadArticle"}),ka={props:{link:{type:String,default:"#"},showRead:{type:Boolean,default:!1},showDownload:{type:Boolean,default:!1},readLink:{type:String,default:"#"},bgColor:{type:String,default:"#5227AD"},title:{type:String,default:"In a hurry? Save this article as a PDF."},description:{type:String,default:"Tired of scrolling? Download a PDF version for easier offline reading and sharing with coworkers."},showClip:{type:Boolean,default:!0},btnColor:{type:String,default:"#633db5"}},methods:{adjust(r,e){return r.startsWith("#")?"#"+r.replace(/^#/,"").replace(/../g,t=>("0"+Math.min(255,Math.max(0,parseInt(t,16)+e)).toString(16)).slice(-2)):"#4f57ff"}}},Sa={class:"text-center text-white my-4"},xa=["id"],Ea={class:"fs-2 py-4"},Ia={class:"fs-5"},Ca={class:"d-flex justify-content-center gap-4"};function Oa(r,e,t,n,i,o){const s=mr;return x(),C("div",Sa,[f("div",{class:"position-relative pad",style:U({backgroundColor:t.bgColor,padding:"5rem"}),id:t.showClip?"notify":""},[f("h3",Ea,[Se(r.$slots,"title",{},()=>[H(j(t.title),1)],!0)]),f("p",Ia,[Se(r.$slots,"description",{},()=>[H(j(t.description),1)],!0)]),Se(r.$slots,"btn",{},()=>[f("div",Ca,[t.showRead?(x(),X(s,{key:0,appearance:"primary",size:"large",type:"link",target:"_blank",link:t.readLink,"custom-style":{backgroundColor:o.adjust(t.bgColor,20),color:"#fff"}},{default:N(()=>[...e[0]||(e[0]=[H(" Click here to Read Online",-1)])]),_:1},8,["link","custom-style"])):F("",!0),t.showDownload?(x(),X(s,{key:1,appearance:"primary",target:"_blank",size:"large",type:"link",link:t.link,"custom-style":{backgroundColor:o.adjust(t.bgColor,40),color:"#fff"}},{default:N(()=>[...e[1]||(e[1]=[H("Click here to download",-1)])]),_:1},8,["link","custom-style"])):F("",!0)])],!0)],12,xa)])}const Pa=Object.assign(ve(ka,[["render",Oa],["__scopeId","data-v-dcd29552"]]),{__name:"CustomAlert"}),Aa={props:{color:{type:String,default:""},post:{type:Object,default:()=>{}}},computed:{getBaseURL(){return(this._.provides[J]||this.$route)?.name?.includes("resources-hub-slug")?"/resources":"/"}}},Ma={class:"col-lg-12 col-12 mt-4 rounded"},ja={class:"p-5 box",style:{"background-color":"white"}},Da={class:"fs-4 py-4"},Ra=["innerHTML"];function La(r,e,t,n,i,o){const s=Je;return x(),X(s,{to:`${o.getBaseURL}/${(r._.provides[J]||r.$route).params.hub}/${t.post.slug}`},{default:N(()=>[f("div",Ma,[f("div",ja,[f("h3",Da,j(t.post.title),1),f("p",{class:"fs-5",innerHTML:t.post.excerpt},null,8,Ra),f("div",{class:"d-flex justify-content-between pt-4",style:U({color:t.color})},[e[1]||(e[1]=f("h5",{class:"fs-5"},"Explore this Resource",-1)),f("div",{class:"rounded-circle d-flex justify-content-center align-items-center",style:U([{width:"40px",height:"40px"},{backgroundColor:t.color,color:"white"}])},[...e[0]||(e[0]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",fill:"currentColor",height:"24"},[f("path",{fill:"none",d:"M0 0h24v24H0z"}),f("path",{d:"M16 12l-6 6V6z"})],-1)])],4)],4)])])]),_:1},8,["to"])}const $a=Object.assign(ve(Aa,[["render",La]]),{__name:"ChapterOutline"}),Ta=""+new URL("3.jQkOGVDD.png",import.meta.url).href,Fa=""+new URL("2.B2FGzP3s.png",import.meta.url).href,dr=""+new URL("1.DLd0xgxL.png",import.meta.url).href,Na={props:{bgColor:{type:String,default:"#5227AD"}},computed:{campaign(){return(this._.provides[J]||this.$route)?.params?.slug??"post_details"}}},Ba={class:"text-whie my-5"},qa={class:"py-3"},Ua={class:"d-flex flex-md-row flex-column align-items-center justify-content-center py-2",style:{"border-bottom":"1px solid #ddd"}},za={class:"w-100"},Ka=["href"],Ha={class:"d-flex flex-md-row flex-column align-items-center justify-content-center py-2",style:{"border-bottom":"1px solid #ddd"}},Va={class:"w-100"},Ga=["href"],Ja={class:"d-flex flex-md-row flex-column align-items-center justify-content-center py-2",style:{"border-bottom":"1px solid #ddd"}},Wa={class:"w-100"},Qa=["href"],Za={class:"d-flex flex-md-row flex-column align-items-center justify-content-center py-2",style:{"border-bottom":"1px solid #ddd"}},Xa={class:"w-100"},Ya=["href"];function es(r,e,t,n,i,o){return x(),C("div",Ba,[f("div",{class:"position-relative pad",style:U({backgroundColor:r.white})},[f("div",{class:"py-3",style:U(`border-bottom: 4px solid ${t.bgColor}`)},[...e[0]||(e[0]=[f("h3",null,"Whenever you're ready",-1),f("p",null,"There are 4 ways we can help you become a great backend engineer:",-1)])],4),f("div",qa,[f("div",Ua,[e[3]||(e[3]=f("div",{class:"w-lg-25"},[f("img",{class:"w-100",src:Ta,alt:""})],-1)),f("div",za,[f("a",{target:"_blank",href:`https://app.masteringbackend.com?ref=masteringbackend&utm_source=masteringbackend&utm_medium=blog&utm_campaign=${o.campaign}`},[...e[1]||(e[1]=[f("h4",{style:{color:"rgb(187, 74, 3)"}},"The MB Platform",-1)])],8,Ka),e[2]||(e[2]=f("p",null," Join 1000+ backend engineers learning backend engineering. Build real-world backend projects, learn from expert-vetted courses and roadmaps, track your learnings and set schedules, and solve backend engineering tasks, exercises, and challenges. ",-1))])]),f("div",Ha,[e[6]||(e[6]=f("div",{class:"w-lg-25"},[f("img",{class:"w-100",src:Fa,alt:""})],-1)),f("div",Va,[f("a",{target:"_blank",href:`https://masteringbackend.com/academy?ref=masteringbackend&utm_source=masteringbackend&utm_medium=blog&utm_campaign=${o.campaign}`},[...e[4]||(e[4]=[f("h4",{style:{color:"rgb(187, 74, 3)"}},"The MB Academy",-1)])],8,Ga),e[5]||(e[5]=f("p",null," The MB Academy is a 6-month intensive Advanced Backend Engineering BootCamp to produce great backend engineers. ",-1))])]),f("div",Ja,[e[9]||(e[9]=f("div",{class:"w-lg-25"},[f("img",{class:"w-100",src:dr,alt:""})],-1)),f("div",Wa,[f("a",{target:"_blank",href:`https://newsletter.masteringbackend.com/?ref=masteringbackend&utm_source=masteringbackend&utm_medium=blog&utm_campaign=${o.campaign}`},[...e[7]||(e[7]=[f("h4",{style:{color:"rgb(187, 74, 3)"}},"Join Backend Weekly",-1)])],8,Qa),e[8]||(e[8]=f("p",null," If you like post like this, you will absolutely enjoy our exclusive weekly newsletter, Sharing exclusive backend engineering resources to help you become a great Backend Engineer. ",-1))])]),f("div",Za,[e[12]||(e[12]=f("div",{class:"w-lg-25"},[f("img",{class:"w-100",src:dr,alt:""})],-1)),f("div",Xa,[f("a",{target:"_blank",href:`https://getbackendjobs.com?ref=masteringbackend&utm_source=masteringbackend&utm_medium=blog&utm_campaign=${o.campaign}`},[...e[10]||(e[10]=[f("h4",{style:{color:"rgb(187, 74, 3)"}},"Get Backend Jobs",-1)])],8,Ya),e[11]||(e[11]=f("p",null," Find over 2,000+ Tailored International Remote Backend Jobs or Reach 50,000+ backend engineers on the #1 Backend Engineering Job Board ",-1))])])])],4)])}const ts=Object.assign(ve(Na,[["render",es]]),{__name:"PlatformAd"}),rs={props:{post:{type:Object,default:()=>{}},color:{type:String,default:""},isChapter:{type:Boolean,default:!1}},methods:{},computed:{hasPDF(){const r=this.post.chapter,e=this.post.chapters;return Array.isArray(e)&&e.length>0&&!!r?.id&&r?.hub?.type==="pdf"},showReadMore(){return this.post?.chapters?.length>0&&(this._.provides[J]||this.$route).path.startsWith("/")},generateReadLink(){return this.isBook?"/books/"+this.post.chapters[0]?.hub?.slug:`/posts/${this.post.slug}`},generatePdfURL(){return this.isBook?"/books/"+this.post.chapters[0]?.hub?.slug:`/resources/${this.post?.chapter?.hub?.slug}/${this.post?.slug}`},hubSlug(){return this.post?.hub?.slug??""},content(){return this.post?.content??this.post?.description??""},isBook(){return this.post?.type==="book"},description(){return`
      Click on the button${this.hasPDF?"s":""} below to ${this.hasPDF?"download for offline or":""} read the ${this.title} online`},title(){return this.isChapter?"Overview":this.post?.title??""}}},ns={class:"col-md-8"},is={key:0,class:"fw-light"},os={key:1,class:"fw-light fs-3 fw-bold pb-4"},as={key:3,class:"w-100 pt-5"};function ss(r,e,t,n,i,o){const s=wa,a=Pa,l=$a,u=ts;return x(),C("div",ns,[t.isChapter?(x(),C("span",is,[f("p",{style:U({color:t.color}),class:"pb-1"},j(o.title),5)])):(x(),C("h1",os,j(o.title),1)),R(s,{post:{...t.post,content:o.content}},null,8,["post"]),o.showReadMore?(x(),C("div",{key:2,class:Ee({"pb-5":!t.isChapter})},[R(a,{bgColor:t.color,showRead:!0,showDownload:o.hasPDF,readLink:o.generateReadLink,link:o.generatePdfURL},{title:N(()=>[H(" Access the "+j(o.title),1)]),description:N(()=>[H(j(o.description),1)]),_:1},8,["bgColor","showDownload","readLink","link"])],2)):F("",!0),t.isChapter?(x(),C("div",as,[(x(!0),C(fr,null,pr(t.post?.posts,(c,d)=>(x(),X(l,{key:d,color:t.color,post:{...c,hub:o.hubSlug}},null,8,["color","post"]))),128))])):F("",!0),R(u)])}const Wr=Object.assign(ve(rs,[["render",ss],["__scopeId","data-v-fc34e392"]]),{__name:"HubContent"}),us={props:{chapter:{type:Object,default:()=>{}},outlines:{type:Array,default:()=>[]}},data:()=>({hubs:[]}),computed:{getBaseURL(){return(this._.provides[J]||this.$route)?.name?.includes("resources-hub-slug")?"/resources":"/"},chapterSlug(){return this.chapter?.slug??""},next(){const r=this.chapter?.posts?.length,e=(this._.provides[J]||this.$route).params.slug;let t=this.outlines.findIndex(n=>n.slug===e);if(this.outlines[r-1].slug===e){const n=this.nextChapter();return!n||!n.posts||!n?.posts?.length?void 0:{title:n.title,slug:n.slug}}return t++,this.outlines[t]},prev(){const r=(this._.provides[J]||this.$route).params.slug;let e=this.outlines.findIndex(t=>t.slug===r);if(this.outlines[0].slug===r){const t=this.prevChapter();return!t||!t.posts||!t?.posts?.length?void 0:{title:t.title,slug:t.slug}}return e--,this.outlines[e]}},async created(){await this.getHub()},methods:{async getHub(){const r=(this._.provides[J]||this.$route).params.hub,e=this.$store.getters["hubs/getHub"];let t=await e(r);return t?.length||(t=await this.$store.dispatch("hubs/getHub",{slug:r,populate:{image:!0,chapters:{populate:{posts:!0}}}})),this.hubs=t,t},prevChapter(){const r=this.hubs;if(!r||!r?.chapters||!r?.chapters?.length)return;const e=r.chapters;if(e[0].slug===this.chapterSlug)return;let t=e.findIndex(n=>n.slug===this.chapterSlug);return t--,e[t]},nextChapter(){const r=this.hubs;if(!r||!r?.chapters||!r?.chapters?.length)return;const e=r.chapters;if(e[e.length-1].slug===this.chapterSlug)return;let t=e.findIndex(n=>n.slug===this.chapterSlug);return t++,e[t]}}},ls={class:"row p-4"},cs={class:"col-md-6"},ds={class:"text-white"},fs={class:"col-md-6 text-md-end"},ps={class:"text-white"};function hs(r,e,t,n,i,o){const s=Je;return x(),C("div",ls,[f("div",cs,[o.prev?(x(),X(s,{key:0,to:`${o.getBaseURL}/${(r._.provides[J]||r.$route).params.hub}/${o.prev.slug}`},{default:N(()=>[e[0]||(e[0]=f("p",{class:"fw-normal",style:{color:"#f7f5fa"}},"Prev",-1)),f("h4",ds,j(o.prev?o.prev.title:""),1)]),_:1},8,["to"])):F("",!0)]),f("div",fs,[o.next?(x(),X(s,{key:0,to:`${o.getBaseURL}/${(r._.provides[J]||r.$route).params.hub}/${o.next.slug}`},{default:N(()=>[e[1]||(e[1]=f("p",{class:"text-white",style:{color:"#f7f5fa"}},"Next",-1)),f("h4",ps,j(o.next?o.next.title:""),1)]),_:1},8,["to"])):F("",!0)])])}const vs=Object.assign(ve(us,[["render",hs]]),{__name:"HubPagination"}),ms={class:"main",style:{"background-color":"#fff"}},ys={class:"container"},gs={class:"row Resources pt-4 p-0 m-0"},_s={class:"py-4 col-md-3 w100"},bs={key:0},ws={class:"container"},ks={__name:"HubContentOverview",props:{chapter:{type:Object,default:()=>({})},post:{type:Object,default:()=>({})}},setup(r){const e=r,t=T(()=>e.chapter?.posts?.length>1),n=T(()=>{const s=e.chapter?.color??"";return s.includes("gradient")?`#${s.split("#")[1].split(" ")[0].replace(/[^a-zA-Z0-9 ]/g,"")}`:s}),i=T(()=>e.chapter?.hub??{}),o=T(()=>e.chapter?.posts?.map(s=>({title:s.title,slug:s.slug}))??[]);return(s,a)=>{const l=yr,u=gr,c=_r,d=Wr,p=vs;return x(),C("main",null,[R(l,{chapter:r.chapter,color:n.value},null,8,["chapter","color"]),f("section",ms,[R(u,{hub:i.value,color:n.value,chapter:r.chapter,post:r.post},null,8,["hub","color","chapter","post"]),f("div",ys,[f("div",gs,[f("div",_s,[R(c,{color:n.value,outlines:o.value},null,8,["color","outlines"])]),R(d,{color:n.value,style:{"background-color":"white"},post:r.post},null,8,["color","post"])])])]),t.value?(x(),C("section",bs,[f("div",{class:"slides",style:U({background:n.value})},[f("div",ws,[R(p,{chapter:r.chapter,outlines:o.value},null,8,["chapter","outlines"])])],4)])):F("",!0),a[0]||(a[0]=f("section",null,null,-1))])}}},Ss={class:"main"},xs={class:"container"},Es={class:"row Resources mt-4"},Is={class:"py-4 col-md-3 w100"},Cs={__name:"ChapterContentOverview",props:{chapter:{type:Object,default:()=>({})},post:{type:Object,default:()=>({})}},setup(r){const e=r,t=T(()=>{const o=e.chapter?.color??"";return o.includes("gradient")?`#${o.split("#")[1].split(" ")[0].replace(/[^a-zA-Z0-9 ]/g,"")}`:o}),n=T(()=>e.chapter?.hub??{}),i=T(()=>e.chapter?.posts?.map(o=>({title:o.title,slug:o.slug}))??[]);return(o,s)=>{const a=yr,l=gr,u=_r,c=Wr;return x(),C("main",null,[R(a,{chapter:r.chapter,color:t.value,"is-chapter":!0},null,8,["chapter","color"]),f("section",Ss,[R(l,{hub:n.value,color:t.value,chapter:r.chapter,post:r.post},null,8,["hub","color","chapter","post"]),f("div",xs,[f("div",Es,[f("div",Is,[R(u,{color:t.value,outlines:i.value},null,8,["color","outlines"])]),R(c,{post:r.chapter,"is-chapter":"",color:t.value},null,8,["post","color"])])])]),s[0]||(s[0]=f("section",null,null,-1))])}}},Os={__name:"[slug]",async setup(r){let e,t;const n=gt(),i=en(),o=vr(),{data:s}=([e,t]=Rt(async()=>Lt("post",async()=>{try{let h=i.post;return console.log(h),h||(h=await i.getPost({slug:n.params.slug,populate:"*"})),console.log(h),h}catch(h){return console.error(h),null}})),e=await e,t(),e),{data:a}=([e,t]=Rt(async()=>Lt("chapter",async()=>{try{const h=s.value?.chapter?.slug??n.params.slug;let y=i.chapter;return y||(y=await i.getChapter({slug:h,populate:"*"})),y}catch(h){return console.error(h),null}})),e=await e,t(),e),l=o.public.baseUrl||"https://masteringbackend.com",u=T(()=>`${l}/`),c=T(()=>s.value?s.value.image??s.value.featured_image?.url??"/img/backend-2023.jpg":"/img/backend-2023.jpg"),d=h=>h?.replace(/(<([^>]+)>)/gi,"")||"",p=h=>Array.isArray(h)?h.map(y=>y.title).join(", "):"",v=T(()=>s.value||a.value);return tn(()=>v.value?{title:v.value.title,meta:[{name:"keywords",content:p(v.value.tags)??""},{name:"description",content:d(v.value.description||v.value.excerpt)},{property:"og:title",content:v.value.title},{property:"og:description",content:d(v.value.description||v.value.excerpt)},{property:"og:image",content:c.value},{property:"og:url",content:`${u.value}${n.params.hub}/${n.params.slug}`},{property:"og:image:width",content:"800"},{property:"og:image:height",content:"800"},{property:"og:type",content:"article"},{property:"article:published_time",content:v.value.createdAt},{property:"article:modified_time",content:v.value.updatedAt},{name:"twitter:card",content:"summary_large_image"}]}:{}),(h,y)=>{const b=ks,w=Cs;return x(),C("div",null,[ee(s)?(x(),X(b,{key:0,post:ee(s),chapter:ee(a)},null,8,["post","chapter"])):(x(),X(w,{key:1,post:ee(s),chapter:ee(a)},null,8,["post","chapter"]))])}}},Ts=Object.freeze(Object.defineProperty({__proto__:null,default:Os},Symbol.toStringTag,{value:"Module"}));export{Ie as C,kt as P,g as _,_ as a,$ as b,m as c,Jr as d,de as e,Rs as f,Ls as g,V as h,je as i,wr as j,It as k,ut as l,yo as m,Me as n,Z as o,oo as p,ii as q,ze as r,qn as s,go as t,$s as u,Ts as v};
